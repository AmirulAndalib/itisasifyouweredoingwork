/*! Copyright (c) 2017 Gravity, Inc. All rights reserved. */
(function(){
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
//# sourceMappingURL=underscore-min.map
/**
 * The purpose of this is to remove the _ global and capture it into a local _ that itself will be enclosed when this
 * file is compiled into widget.js.
 */
var _ = (this._ && this._.noConflict()) || (window._ && window._.noConflict());
if(this !== window)
  this._ = _;
!function(a,b){function c(a,b,c){this.$ratingsContainer=b,this.$ratingsBtns=this.$ratingsContainer.find(".grv_rating_btn"),this.widgetVars=c,this.$=a,this.$widgetInnerContainer=this.widgetVars.innerContainer(this.$),this.$articlePanel=this.$widgetInnerContainer.find(".grv_panel"),this.$articles=this.$widgetInnerContainer.find(".grv_articles"),this.$header=this.$ratingsContainer.find("h4:first"),this.$window=this.$(window),this.$header.css("visibility","visible")}function d(a,b,c){this.widgetVars=c,this.$whyRecosBtns=b.find(".grv_why_recos_btn"),this.qtipLoaded=!1,this.qtipLoading=!1,this.$=a,this.qtipDeferred=this.$.Deferred(),this.$widgetInnerContainer=this.widgetVars.innerContainer(this.$)}function e(a,b,c){this.$=a,this.$widget=b,this.$widgetArticles=this.$widget.find(".grv_articles"),this.widgetVars=c,this.$window=this.$(window),this.page=0,this.nextPageRequestInFlight=!1}!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","https://www.google-analytics.com/analytics.js","grvGa"),grvGa("create","UA-12084380-1","auto",{cookieExpires:3419e4}),window.GrvMiniDeferred=function(){var a=function(){this.thenCallbacks=[],this.errorCallbacks=[],this.resolved=0,this.resolvedWith=null,this.RESOLVED_SUCCESS=1,this.RESOLVED_ERROR=2,this.then=function(a){return this.resolved?this.resolved==this.RESOLVED_SUCCESS&&a(this.resolvedWith):this.thenCallbacks.push(a),this},this.error=function(a){return this.resolved?this.resolved==this.RESOLVED_ERROR&&a(this.resolvedWith):this.errorCallbacks.push(a),this},this.always=function(a){this.resolved?a(this.resolvedWith):(this.thenCallbacks.push(a),this.errorCallbacks.push(a))}};this.promise=new a,this.resolve=function(a){this.promise.resolved=this.promise.RESOLVED_SUCCESS,this.promise.resolvedWith=a;for(var b=0;b<this.promise.thenCallbacks.length;++b)this.promise.thenCallbacks[b](a)},this.reject=function(a){this.promise.resolved=this.promise.RESOLVED_ERROR,this.promise.resolvedWith=a;for(var b=0;b<this.promise.errorCallbacks.length;++b)this.promise.errorCallbacks[b](a)}},window.GrvWidgetVars=function(a,b,c,d){arguments.length>4?(this.siteGuid=arguments[0],this.placementId=arguments[1],this.userGuid=arguments[2],this.truncateArticleTitles=arguments[3],this.truncateArticleContent=arguments[4],this.isSidebar=arguments[5],this.frameUrl=arguments[6],this.widgetLoaderVersion=arguments[7],this.useDynamicHeight=arguments[8],this.staticHeight=arguments[9],this.thumbyMode=arguments[10],this.enableImageTooltip=arguments[11],this.brokenImgUrl=arguments[12],this.isIframe=arguments[15],this.doAolOmniture=arguments[16],this.clickThroughOnRightClick=arguments[17],this.rateRecoBaseUrl=arguments[19],this.impressionHash=arguments[21],this.beaconUrl=arguments[22],this.aolOmniModuleName=arguments[23],this.aolOmniBrand=arguments[24],this.aolCmsSrc=arguments[25],this.aolCobrand=arguments[26],this.aolOmniAccount=arguments[27],this.containerId=arguments[28]||null,this.sitePlacementId=arguments[29],this.googleAnalyticsOrganicClicks=arguments[31]):(this.containerId=a,this.sitePlacementId=b,this.googleAnalyticsOrganicClicks=d),this.container=function(){return document.getElementById(this.containerId)},this.shouldDoImageMagicBgBlur=function(){return(null==this.doImageMagicBgBlur||this.doImageMagicBgBlur)&&"withServerSideBlur"!==this.thumbyMode},this.isJsonp=function(){return!this.isIframe},d&&this.loadGoogleAnalytics(c),null==this.dataLayerEnvironmentIsolated&&(this.dataLayerEnvironmentIsolated=!1),null==this.omnitureEnvironmentIsolated&&(this.omnitureEnvironmentIsolated=!1),this.useHttps=function(a){return"https:"===(a||window).location.protocol||!0===this.forceSecureAssets},this.setContainerId=function(a){this.containerId=a},this.partnerHandlingOmniLinkClick=function(){var a=this.container();return Boolean(a&&a.className&&/\bgrvPartnerHandlingOmniLinkClick\b/.test(a.className))},this.enumerateMnids=function(a){a("."+this.containerId).find("[data-mnid]").each(function(b){++b;var c=a(this);c.attr("data-mnid",c.attr("data-mnid")+b);var d=c.attr("data-beacon");d&&d.replace&&(d=d.replace(/("mnid":"[^"]+)/,"$1"+b),c.attr("data-beacon",d))})},this.uniqueifyPlids=function(a){a("."+this.containerId).find(".grv_article").each(function(){var b=a(this),c=(b.attr("data-id")||0)%2e9;b.attr("data-plid",c);var d=b.attr("data-beacon");d&&d.replace&&(d=d.replace(/("plid":")[^"]+/,"$1"+c),b.attr("data-beacon",d))})},this.clickCaptureCallbacks=function(){return window.grvArticleClickCaptureCbs&&grvArticleClickCaptureCbs[this.siteGuid]&&grvArticleClickCaptureCbs[this.siteGuid][this.placementId.toString()]||[]},this.baseUrl=function(){return"https:"==location.protocol?"https://secure-api.gravity.com/v1/api/intelligence":"http://rma-api.gravity.com/v1/api/intelligence"},this.cdnUrl=function(){return"localhost:8080"==location.host?"http://"+location.host:"//static.grvcdn.com"}},GrvWidgetVars.prototype.innerContainer=function(a){return a("."+this.containerId)},GrvWidgetVars.prototype.loadGoogleAnalytics=function(a){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",a,"auto")},GrvWidgetVars.isNotSitePlacementSpecificCssOverrideReg=/\/base(\.[a-fA-F0-9]{32})?\.css(\?[^?]*)?$/,GrvWidgetVars.isSitePlacementSpecificCssOverride=function(a){var b=a(this);return!GrvWidgetVars.isNotSitePlacementSpecificCssOverrideReg.test(b.attr("href"))},GrvWidgetVars.prototype.stylesLoadedPromise=function(a){if(!this._stylesLoadedDeferred){this._stylesLoadedDeferred=new GrvMiniDeferred;var b=/[^A-Za-z0-9_]/g,c=a("link.grvWidgetStylesheet.sg"+this.siteGuid+"-pl"+this.placementId),d=c&&c.filter(function(){return GrvWidgetVars.isSitePlacementSpecificCssOverride.call(this,a)});if(d&&1===d.length)try{var e=d.attr("href"),f="grvWidgetStylesLoaded_"+e.substr(1+e.lastIndexOf("/")).replace(b,"_"),g=a("<div />").attr("id",f).appendTo("body"),h=this,i=function(){var a=parseInt(g.width()),b=parseInt(g.height());a<=1&&b<=1?(g.remove(),h._stylesLoadedDeferred.resolve()):setTimeout(function(){i()},25)};i()}catch(a){this._stylesLoadedDeferred.reject(a)}else this._stylesLoadedDeferred.reject("Couldn't determine CSS override.")}return this._stylesLoadedDeferred.promise},c.NONE_OPTION_ID=0,c.NONE_OPTION_NAME="none",c.GA_TOASTER_OBJECT="Toaster",c.GA_USER_FEEDBACK_OBJECT="User Feedback",c.GA_IMPRESSION_SERVED_ACTION="impression served",c.GA_ARTICLE_CLICK_ACTION="article click",c.GA_TOASTER_SLIDE_IN="slide in",c.GA_TOASTER_SLIDE_OUT="slide out",c.GA_TOASTER_CLOSE="close",c.GA_TOASTER_EXPAND_MORE="expand more",c.GA_TOASTER_COLLAPSE_MORE="collapse more",c.GA_TOASTER_VIEW_ALL_CLICK="view all click",c.GA_TOASTER_LABEL_ME="/me",c.GA_TOASTER_LABEL_RELATED="/related",c.GA_TOASTER_LABEL_TRENDING="/trending",c.prototype.includedInWidget=function(){return Boolean(this.$ratingsBtns.length)},c.prototype.activeRatingBtns=function(){return this.$ratingsBtns.filter(".active")},c.prototype.isStarsVariation=function(){return this.$ratingsContainer.hasClass("grv_stars")},c.prototype.isNumbersVariation=function(){return this.$ratingsContainer.hasClass("grv_numbers")},c.prototype.isToasterVariation=function(){return this.$ratingsContainer.hasClass("grv_toaster")},c.prototype.isToasterMoreExpanded=function(){return this.toasterExpanded},c.prototype.isEmoticonsVariation=function(){return this.$ratingsContainer.hasClass("grv_emoticons")},c.prototype.prevBtns=function(a){return a.closest(".grv_rating").prevAll(".grv_rating").find(".grv_rating_btn")},c.prototype.init=function(){var a=this;(this.isStarsVariation()||this.isNumbersVariation())&&(this.$ratingsBtns.mouseenter(function(){var b=a.$(this),c=b.closest(".grv_rating");c.prevAll(".grv_rating").find(".grv_rating_btn").add(b).addClass("hover"),c.nextAll(".grv_rating").find(".grv_rating_btn").removeClass("hover")}),this.$ratingsContainer.mouseleave(function(){a.$ratingsBtns.removeClass("hover")})),this.$ratingsBtns.click(function(){var b,d,e=a.$(this),f=e.data("grv-ufo-id"),g=e.data("grv-ufo-name"),h=a.isStarsVariation(),i=a.isNumbersVariation(),j=(h||i)&&a.prevBtns(e);if(e.hasClass("chosen"))b=c.NONE_OPTION_ID,d=c.NONE_OPTION_NAME,e.removeClass("active").removeClass("chosen"),(h||i)&&j.removeClass("active"),i&&a.$ratingsBtns.find(".icon").each(function(){var b=a.$(this);b.removeClass(b.attr("data-active-class")).addClass(b.attr("data-normal-class"))});else{if(a.activeRatingBtns().removeClass("active").removeClass("chosen"),e.addClass("active chosen"),h&&j.addClass("active"),i){a.$ratingsBtns.find(".icon").each(function(){var b=a.$(this);b.removeClass(b.attr("data-active-class")).addClass(b.attr("data-normal-class"))});var k=e.find(".icon");k.addClass(k.attr("data-active-class")).removeClass(k.attr("data-normal-class"))}b=f,d=g}a.updateHeader(d),a.$window.trigger("resize",["noDebounce"]),a.$.ajax({url:a.widgetVars.baseUrl()+"/ufe",data:{sp:a.widgetVars.sitePlacementId,ug:a.widgetVars.userGuid,ih:a.widgetVars.userFeedbackImpressionHash||"no userFeedbackImpressionHash",co:b,cu:a.widgetVars.frameUrl},dataType:"jsonp"});var l="";a.isToasterVariation()&&(l=a.isToasterMoreExpanded()?"toaster w/ more expanded; ":"toaster w/ more collapsed; "),l+=a.widgetVars.frameUrl,grvGa("send","event",c.GA_USER_FEEDBACK_OBJECT,d,l)}),this.triggerWindowResizeAfterUserFeedbackCssLoaded(),this.isToasterVariation()&&this.initToaster()},c.prototype.campaignArticleKeyParamForArticle=function(a){return a.attr("data-cak")?a.attr("data-cak"):a.attr("data-ck")+"|"+a.attr("data-id")+"|"+a.attr("data-cg")},c.prototype.sendToasterPopupImpressionViewedOnce=_.once(function(){var a=new GrvImpressionViewedData(this.widgetVars.siteGuid,this.widgetVars.placementId,this.widgetVars.userGuid,this.widgetVars.userFeedbackImpressionHash);grvSendImpressionViewed(this.$,a)}),c.prototype.sendToasterMoreBtnImpressionViewedOnce=_.once(function(){var a=new GrvImpressionViewedData(this.widgetVars.siteGuid,this.widgetVars.placementId,this.widgetVars.userGuid,this.widgetVars.impressionHash);grvSendImpressionViewed(this.$,a)}),c.prototype.initToaster=function(){function a(a){a?b.$articles.addClass("grv_show_articles"):b.$articles.removeClass("grv_show_articles")}var b=this;this.toasterExpanded=!1;var d=this.$ratingsContainer.find(".grv_close_btn"),e=this.$widgetInnerContainer.attr("data-slash-me-url-slug");if(this.$articlePanel.insertAfter(this.$ratingsContainer.find("> .clearfix:last")),e){this.$('<a class="grv_view_all_btn" target="_blank" href="http://me.gravity.com/me/'+e+'/personalized" />').appendTo(this.$articlePanel.find(".grv_num_0")).click({gaEventLabel:c.GA_TOASTER_LABEL_ME},this.$.proxy(this.viewAllLinkClick,this));var f=this.$articlePanel.find(".grv_num_1");this.$('<a class="grv_view_all_btn" target="_blank" />').attr("href","http://me.gravity.com/me/"+e+"?cak="+encodeURIComponent(this.campaignArticleKeyParamForArticle(f))+"&contextualUrl="+encodeURIComponent(f.find(".grv_article_title").attr("href"))).appendTo(f).click({gaEventLabel:c.GA_TOASTER_LABEL_RELATED},this.$.proxy(this.viewAllLinkClick,this)),this.$('<a class="grv_view_all_btn" target="_blank" href="http://me.gravity.com/me/'+e+'/trending" />').appendTo(this.$articlePanel.find(".grv_num_2")).click({gaEventLabel:c.GA_TOASTER_LABEL_TRENDING},this.$.proxy(this.viewAllLinkClick,this))}var g=this.$(".btn_more"),h=!1,i=-1,j=_.debounce(function(){var a=b.$window.scrollTop();a>i&&!b.toasterExpanded?b.$ratingsContainer.hasClass("grv_in_view")&&(b.$ratingsContainer.removeClass("grv_in_view"),grvGa("send","event",c.GA_TOASTER_OBJECT,c.GA_TOASTER_SLIDE_OUT)):b.$ratingsContainer.hasClass("grv_in_view")||(b.$ratingsContainer.addClass("grv_in_view").removeClass("grv_init_hidden"),grvGa("send","event",c.GA_TOASTER_OBJECT,c.GA_TOASTER_SLIDE_IN),b.sendToasterPopupImpressionViewedOnce()),i=a},25);this.$window.scroll(j),d.click(function(){b.$ratingsContainer.removeClass("grv_in_view"),b.$window.unbind("scroll",j),grvGa("send","event",c.GA_TOASTER_OBJECT,c.GA_TOASTER_CLOSE)}),g.click(function(){h||(h=!0,b.toasterExpanded||(a(!0),b.$window.trigger("resize",["noDebounce"])),g.toggleClass("hide_btn"),b.$ratingsContainer.animate({height:b.toasterExpanded?b.toasterCollapsedHeight():Math.min(b.toasterExpandedHeight(),b.$window.height())},800,function(){b.toasterExpanded&&a(!1),b.toasterExpanded=!b.toasterExpanded,h=!1,grvGa("send","event",c.GA_TOASTER_OBJECT,b.toasterExpanded?c.GA_TOASTER_EXPAND_MORE:c.GA_TOASTER_COLLAPSE_MORE),b.toasterExpanded&&b.sendToasterMoreBtnImpressionViewedOnce()}))})},c.prototype.toasterCollapsedHeight=function(){if(!this._toasterCollapsedHeight){var a=this.$('<div class="grvToasterCollapsedHeight" />').appendTo("body");this._toasterCollapsedHeight=a.height(),a.remove()}return this._toasterCollapsedHeight},c.prototype.toasterExpandedHeight=function(){if(!this._toasterExpandedHeight){var a=this.$('<div class="grvToasterExpandedHeight" />').appendTo("body");this._toasterExpandedHeight=a.height(),a.remove()}return this._toasterExpandedHeight},c.prototype.viewAllLinkClick=function(a){grvGa("send","event",c.GA_TOASTER_OBJECT,c.GA_TOASTER_VIEW_ALL_CLICK,a.data.gaEventLabel)},c.isUserFeedbackOptionClassName=function(a){return/^grvUfo_/.test(a)},c.prototype.updateHeader=function(a){for(var b,d=this.$.trim(this.$header.prop("class")||""),e=d.split(/\s+/),f=[],g=0,h=e.length;g<h;++g)b=e[g],c.isUserFeedbackOptionClassName(b)&&f.push(b);this.$header.removeClass(f.join(" ")),a&&this.$header.addClass("grvUfo_"+a)},c.prototype.triggerWindowResizeAfterUserFeedbackCssLoaded=function(){var a,b=this;if(this.$("link[href]").each(function(){if(/personalization\/css\/userFeedback/.test(this.href))return a=this,!1}),a){var c="grvUserFeedbackCssLoaded",d=this.$("<div />").attr("id",c).appendTo("body"),e=function(){var a=parseInt(d.width()),c=parseInt(d.height());a<=1&&c<=1?(d.remove(),b.$window.resize()):setTimeout(function(){e()},25)};e()}},d.GA_WHY_RECOS_OBJECT="Why Recos",d.GA_IMPRESSION_SERVED_ACTION="impression served",d.GA_ARTICLE_CLICK_ACTION="article click",d.GA_SHOW_WHY_RECOS_ACTION="show",d.GA_HIDE_WHY_RECOS_ACTION="hide",d.prototype.ensureQtip=function(){var a=this;return this.qtipLoaded||this.qtipLoading||this.$.getScript(this.widgetVars.cdnUrl()+"/personalization/jquery.qtip.custom/grv.jquery.qtip.min.js",function(){a.qtipLoaded=!0,a.qtipLoading=!1,a.qtipDeferred.resolve()}),this.qtipDeferred.promise()},d.prototype.availableInWidget=function(){return this.$whyRecosBtns.length>=1},d.prototype.init=function(){var a=this;this.$whyRecosBtns.click(function(){var b=a.$(this);if(!b.data("inittedQtip.grv")){b.data("inittedQtip.grv",!0);var c=b.closest(".grv_why_recos"),e=c.data("tooltipClass");a.ensureQtip().then(function(){b.qtip({content:{title:'<span class="grv_why_recos_title"></span>',text:'<span class="grv_why_recos_text"></span>'},position:{my:"bottom left",at:"top left",adjust:{x:15}},style:{classes:"qtip-bootstrap grv_why_recos_tooltip "+e},show:{event:"click"},hide:{fixed:!0,delay:200,event:"click mouseleave"},events:{show:function(){grvGa("send","event",d.GA_WHY_RECOS_OBJECT,d.GA_SHOW_WHY_RECOS_ACTION,"position "+b.closest(".grv_article").index())},hide:function(){grvGa("send","event",d.GA_WHY_RECOS_OBJECT,d.GA_HIDE_WHY_RECOS_ACTION,"position "+b.closest(".grv_article").index())}}}).qtip("show")})}})},d.prototype.initArticleClickHandling=function(){var a=this;this.$widgetInnerContainer.find(".grvUseFwdHref").click(function(){grvGa("send","event",d.GA_WHY_RECOS_OBJECT,d.GA_ARTICLE_CLICK_ACTION,"position "+a.$(this).closest(".grv_article").index())})},e.TRIGGER_AT_OFFSET_FROM_BOTTOM=150,e.prototype.init=function(){var a,b,c,d,f=this,g=f.$window.scrollTop();this.$window.bind("doNextPage.InfiniteScroll.grv",function(a,b){b==f.widgetVars.sitePlacementId&&f.nextPage()}),this.$window.scroll(_.debounce(function(){f.nextPageRequestInFlight||(c=f.$window.scrollTop(),c>g&&(a=f.$widget.position().top+f.$widget.height(),b=c+f.$window.height(),d=a-b,Math.abs(d)<=e.TRIGGER_AT_OFFSET_FROM_BOTTOM&&f.nextPage()),g=c)},100))},e.prototype.nextPage=_.debounce(function(){if(!this.nextPageRequestInFlight){this.nextPageRequestInFlight=!0,window.postMessage&&window.postMessage("infiniteScrollLoadingPage.grv:"+this.widgetVars.containerId,"*");var a=this;++this.page;var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this.$("<div />").css({position:"absolute",top:"-10000px",left:"-10000px",visibility:"hidden"}).appendTo("body"),u="pg"+this.page+"container"+(new Date).getTime()+Math.random().toString().replace(/[^\d]/g,""),v=this.$("<div />").attr("id",u).appendTo(t),w={type:"content",action:"",site_guid:this.widgetVars.siteGuid};h=function(a){var b;return b=document.createElement("script"),b.async=!0,b.src=a,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)},c="",n=(e=!0===w.useGravityUserGuid?1:0)?"":w.user_guid||(null!=(q=/grvinsights=([^;]+)/.exec(document.cookie))?q[1]:void 0)||"",o="https:"===location.protocol?"https://secure-api.gravity.com/v1/api/intelligence":"http://rma-api.gravity.com/v1/api/intelligence",i=(null!=(r=window.jQuery)&&null!=(s=r.fn)?s.jquery:void 0)||"",m="jsonp",b=w.ad||"",d=w.cburl||"",j=w.pfurl||"",f=w.epl||"",g="${EXTERNAL_PLACEMENT_ID}"!==f?f:"",l=w.ppid||"",k="${PUBLISHER_PLACEMENT_ID}"!==l?l:"",p=o+"/wl?jq="+i+"&sg="+w.site_guid+"&ug="+n+"&ugug="+e+"&p="+this.page+"&id="+u+"&pl="+this.widgetVars.placementId+"&type="+m+"&ad="+b+"&cburl="+encodeURIComponent(d)+"&pfurl="+encodeURIComponent(j)+(""!==g?"&epl="+encodeURIComponent(g):"")+(""!==k?"&ppid="+encodeURIComponent(k):"")+"&x="+(new Date).getTime()+("undefined"!=typeof forceArticleIds&&null!==forceArticleIds&&forceArticleIds.join?"&ai="+forceArticleIds.join(","):"")+("undefined"!=typeof apids&&null!==apids&&""!==apids?"&apids="+encodeURIComponent(apids):""),c&&h(c),p&&(w.sidebar&&(w.wlStartTime=(new Date).getTime()),h(p)),window.grvWidgetWiredCallbacks=window.grvWidgetWiredCallbacks||[],grvWidgetWiredCallbacks.push(function(b){if(b==u){var c=v.find(".grv_article").css("visibility","hidden");a.$widgetArticles.append(c),window.postMessage&&window.postMessage("infiniteScrollArticlesAdded.grv:"+a.widgetVars.containerId,"*"),a.nextPageRequestInFlight=!1}})}},200);try{if(window.grvInittedWidgets=window.grvInittedWidgets||{},window.grvInitWidget=function(a,b,f){function g(a){return a.parents(".grv_article:first")}function h(c){var d=null,e=g(c);try{if(b.container()){var f=a(b.container),h=f.data("widget.grv");h&&(d=h.getBoundClickUrl(e.attr("data-id")))}}catch(a){}d||(d=e.attr("data-fwd-href")),c.hasClass("grvToMyHref")&&(d?(d+=-1==d.indexOf("?")?"?":"&",d+="t="+encodeURIComponent(c[0].href)):d=c[0].href);var i=Y.attr("data-interstitial-url");return i&&(i+=-1==i.indexOf("?")?"?":"&",i+="cak="+encodeURIComponent([e.attr("data-ck"),e.attr("data-id"),e.attr("data-cg")].join("|")),i+="&rih="+encodeURIComponent(b.impressionHash),d?(d+=-1==d.indexOf("?")?"?":"&",d+="t="+encodeURIComponent(i)+"&ti=1"):d=i),d}function i(a){return h(a)||a[0].href}function j(b){var c=k();return null==c?a(b):c.find(b)}function k(){if(b.isIframe)return null;var c=b.innerContainer(a),d=b.container();if(d||c.length){var e=c;return d&&(e=e.add(d)),e}return null}function l(){return null!=Y&&1===Y.length||(Y=j("#grv_widget"),$||Y.addClass("grv_widget_no_postmessage"),1===Y.length)}function m(a){n(b.siteGuid+"|"+b.placementId+"|"+b.userGuid+"|"+a)}function n(a){var c=_.isFunction(b.isJsonp)?b.isJsonp():b.isJsonp;$&&b.frameUrl&&parent!==window&&!c&&parent.postMessage(a,b.frameUrl)}function o(){var c;return b.isIframe?(c=a("body"),o.length||(c=Y)):c=Y,c}function p(){if(!la&&$&&b.frameUrl&&parent!==window&&b.widgetLoaderVersion>=2&&(la=!0,Z.bind("message",function(a){var c=a.originalEvent.data,d=a.originalEvent.origin,e=o(),f=e.data("lastWidth.grv"),g=e.data("lastHeight.grv"),h=e.outerWidth(!0),i=e.outerHeight(!0);"heightUpdated"!=c||0!==b.frameUrl.indexOf(d)||f&&f==h&&g&&g==i||(e.data("lastWidth.grv",h).data("lastHeight.grv",i),L())})),b.useDynamicHeight){var a=o(),c=a.data("lastHeight.grv"),d=a.outerHeight(!0);c!=d&&(m("setHeight:"+d),a.data("lastHeight.grv",d))}else m("setHeight:"+b.staticHeight)}function q(){function b(){c?(c=!1,e.css("background-image")&&"none"!=e.css("background-image")||e.css("background-image","url(//static.grvcdn.com/personalization/tt-arrow.png)"),e.stop().show().animate({opacity:1},"fast")):(c=!0,e.stop().animate({opacity:0},50,function(){c&&e.hide()}))}var c=!0,d=j("#grv_personalization"),e=j("#grv_tooltip").css("opacity",0).hide();d.click(function(c){c.preventDefault(),parent!==window?$?m("showAttrib"):b():window.grvShowAttributionModal?window.grvShowAttributionModal(a):b()})}function r(){return ea.width()>1||navigator&&navigator.userAgent&&-1!=navigator.userAgent.indexOf("MSIE")}function s(c){if(!(_.isFunction(b.shouldDoImageMagicBgBlur)?b.shouldDoImageMagicBgBlur():b.doImageMagicBgBlur)){var d=c.height(),e=c.parent();if(d/e.height()>1.5){if(!e.hasClass("img_magic")){e.addClass("img_magic"),a('<div class="frosted_glass" />').prependTo(e);for(var f=c.clone().removeClass("grv_article_img grv_full_height grv_full_width grv_positionable").css({position:"absolute",left:"-1%"}).addClass("bg_fade").prependTo(e),g=2;g<=8;++g)f.clone().css("left","-"+g+"%").addClass("fade_"+g).prependTo(e);f.addClass("fade_1")}c.removeClass("grv_full_width"),c.addClass("grv_full_height shadow"),c.css({margin:"0 auto",display:"block",position:"relative",width:"auto",height:"100%"})}}}function t(a,b){return a.replace(new RegExp("\\"+b,"g"),"-")}function u(a){var b=a.find(".grvClickPixel:first"),c=b.data("html");c&&b.after(c)}function v(c){var d=c.find(".grvUseFwdHref"),e=/[&?]cc(&|$|=([^&]*))/,f=e.exec(location.search||"");if(null!=f&&f.length&&b.isIframe&&$){var g=f.length<=2||-1==f[2].indexOf("preventDefaultForSponsored-false");d.click(function(b){function c(){var a="|";n("grvClk"+[t(j,a),t(k,a),t(l||"",a)].join(a))}var d=a(this),e=d.closest(".grv_article"),f=e.hasClass("grv_is_sponsored"),i=e.find(".grv_article_title"),j=a.trim(i.attr("title")||i.text()),k=i.attr("href"),l=e.attr("data-site-name"),m=h(i);u(e),f&&!g||b.preventDefault(),m?a.ajax(m,{dataType:"jsonp",jsonp:"jscb",complete:c}):c()})}else(_.isFunction(b.isJsonp)?b.isJsonp():b.isJsonp)&&b.clickCaptureCallbacks().length?d.click(function(c){function d(){for(var a=0;a<n.length;++a)n[a](o)}var e=a(this),f=e.closest(".grv_article"),g=f.find(".grv_article_title"),i=a.trim(g.attr("title")||g.text()),j=g.attr("href"),k=f.attr("data-site-name"),l=h(g),m=b.clickCaptureCallbacks(),n=[],o={title:i,url:j,siteName:k};u(f);for(var p=0;p<m.length;++p){var q=m[p],r=null;a.isFunction(q)?r=q:q.callback&&(r=q.callback,q.preventDefault&&(window.console&&console.log&&console.log("Grv preventing default click due to callback spec %o",q),c.preventDefault())),null!=r?n.push(r):window.console&&console.warning&&console.warning("Grv click capture callback ignored; invalid format given")}l?a.ajax(l,{dataType:"jsonp",jsonp:"jscb",complete:d}):d()}):b.doAolOmniture?d.click(function(){return u(a(this).closest(".grv_article")),w.apply(this,arguments)}).bind("contextmenu",b.clickThroughOnRightClick?w:z):d.click(function(c){var d=a(this).closest(".grv_article");u(d),b.googleAnalyticsOrganicClicks&&window.ga&&1==c.which&&!d.hasClass("grv_is_sponsored")?y.apply(this,arguments):z.apply(this,arguments)}).bind("contextmenu",z);A(c.find(".grv_thumb_rating"),!0),c.find(".grv_subscriber_only").bind("mouseenter",function(){a(this).siblings(".grv_subscriber_info").show()}).bind("mouseleave",function(){a(this).siblings(".grv_subscriber_info").hide()})}function w(c){if(3!=c.which){var d=a(this),e=d.attr("href"),f=i(d),g="_blank"==d.attr("target");P(e)&&!b.partnerHandlingOmniLinkClick()&&Q(this,e),g?z.apply(this,arguments):(c.preventDefault(),setTimeout(function(){window.top.location.href=f},500))}}function x(a){return a.closest(".grv_articles").prevAll(".grv_articles").find(".grv_article").length+a.index()}function y(c){var d=a(this),e=d.closest(".grv_article"),f=x(e),g=h(d)||d[0].href,i="_blank"==d.attr("target"),j="send",k="event",l="Gravity",m="click",n=b.sitePlacementId,o=f,p={location:b.frameUrl};try{if(i)ga(j,k,l,m,n,o,p),z.apply(this,arguments);else{c.preventDefault();var q=!1,r=function(){q||(q=!0,window.top.location.href=g)};ga(j,k,l,m,n,o,a.extend({hitCallback:r},p)),setTimeout(r,500)}}catch(a){window.top.location.href=g}}function z(){var b=a(this),c=i(b);c&&b.attr("href",c)}function A(a,b){a[b?"bind":"unbind"]("click",C)}function B(a,b,c){return a?"like":b?"unlike":c?"dislike":null}function C(c){c.preventDefault();var d=a(this),e=d.siblings(".grv_thumb_rating"),f=d.closest(".grv_article"),g=d.hasClass("grv_thumbs_up"),h=g&&f.hasClass("grv_liked"),i=g&&!h,j=!i&&!h,k=(b.rateRecoBaseUrl||"")+"/"+B(i,h,j);A(e,!1),i?f.addClass("grv_liked"):(f.removeClass("grv_liked"),j&&f.children().animate({opacity:0},500,function(){f.height(f.height()).css("min-height",0).slideUp("slow")}));var l=function(){A(e,!0)};""!==a.trim(b.userGuid)&&a.ajax({dataType:"jsonp",url:k,data:{ai:f.attr("data-id"),sg:b.siteGuid,ug:b.userGuid},complete:l})}function D(){if(l()){var a=b.isIframe?Y:Y.parent(),c=a.outerWidth(),d=Y.data("lastWidthForCheckRespWidth.grv");a!==Y&&c<=1&&(c=Y.outerWidth()),c>1&&(!d||d!=c)&&Y.data("lastWidthForCheckRespWidth.grv",c).toggleClass("grv_less_940",c<940).toggleClass("grv_less_820",c<820).toggleClass("grv_less_650",c<650).toggleClass("grv_less_520",c<520).toggleClass("grv_less_481",c<481).toggleClass("grv_less_415",c<415).toggleClass("grv_less_322",c<322)}ea.trigger("responsiveSettled.grv",[Y,U])}function E(b,c){var d=a(this),e=a.trim(d.text());""===e||"..."==e?d.trigger("destroy.dot"):d.attr("title",b?a.trim(c.text()):null)}function F(b,c){var d=a(this),e=a.trim(d.text());""!==e&&"..."!=e||d.trigger("destroy.dot")}function G(){var b=a(this);return b.width()&&b.height()&&b.width()>10&&b.height()>5}function H(){var a;ba&&(a=V.filter(G),a.length&&a.dotdotdot({callback:E})),ca&&(a=W.filter(G),a.length&&a.dotdotdot({callback:F}))}function I(a){null==a&&(a=V.add(W));var b=a.filter(G);b.length&&(b.trigger("destroy.dot"),H())}function J(){if($&&b.frameUrl&&parent!==window&&b.widgetLoaderVersion>=2){var a;Z.bind("message",a=function(c){var d=c.originalEvent.data,e=c.originalEvent.origin;"widgetShown"==d&&0===b.frameUrl.indexOf(e)&&(Z.unbind("message",a),L(),p())})}else L()}function K(){var c=null;window.grvIsAolPartner&&(c={},V.each(function(){var b=a(this);c[b.closest(".grv_article").index().toString()]=b.attr("href")}));var d=new window.GrvImpressionViewedData(b.siteGuid,b.placementId,b.userGuid,b.impressionHash||b.userFeedbackImpressionHash,c);if($||b.suppressImpressionViewed)if(window.parent===window.parent.parent||b.suppressImpressionViewed){var e=a("<p />").width(1).height(1).appendTo("body"),f=!!e[0].getBoundingClientRect();if(e.remove(),f){var g;Z.bind("message",g=function(c){var e=c.originalEvent.data,f=c.originalEvent.origin;0===b.frameUrl.indexOf(f)&&("widgetInView"!=e||b.suppressImpressionViewed?"widgetInView+unsuppress"==e&&(Z.unbind("message",g),grvSendImpressionViewed(a,d,null,!0)):(Z.unbind("message",g),grvSendImpressionViewed(a,d)))})}else grvSendImpressionViewed(a,d,GrvImpressionViewedEventError.NO_BOUNDING_CLIENT_RECT_SUPPORT)}else grvSendImpressionViewed(a,d,GrvImpressionViewedEventError.WIDGET_LOADER_NOT_IN_TOP_WINDOW);else grvSendImpressionViewed(a,d,GrvImpressionViewedEventError.NO_POSTMESSAGE_SUPPORT)}function L(){aa&&(da?I():(da=!0,H()))}function M(){if(window.gravityInsightsParams){var a=gravityInsightsParams.anchorColor;a&&/^#([a-f0-9]{3}|[a-f0-9]{6})$/i.test(a.toString())&&V.css("color",a);var b=gravityInsightsParams.fontSize;b&&/^[0-9]+(\.[0-9]+)?(px|pt|em|%)$/i.test(b.toString())&&V.css("font-size",b)}}function N(){if(!ma){if(ma=!0,l(),U=j(".grv_articles"),X=j(".grv_img_link"),ea.bind("newArticleImgLink.grv",function(a,b){X=X.add(b)}),D(),v(k()||a("body")),ka(),window.grvWidgetWiredCallbacks&&window.grvWidgetWiredCallbacks.length)for(var f=b.containerId,g=0,h=window.grvWidgetWiredCallbacks.length;g<h;++g)window.grvWidgetWiredCallbacks[g](f);b.beaconUrl&&a.getScript(b.beaconUrl),V=j(".grv_article_title"),ea.bind("newArticleTitle.grv",function(a,b){V=V.add(b)}),W=j(".grv_article_content"),ea.bind("newArticleContent.grv",function(a,b){W=W.add(b)}),M(),p(),function(){function a(){D(),ka(),p()}var b,c=3;Z.resize(function(d,e){b&&(clearTimeout(b),b=null),c>0?(--c,a()):e&&"noDebounce"===e?a():b=setTimeout(function(){a()},500)})}(),b.isIframe?(window.grvLogDomReadyEvent(a,b),K(),J(),m("grv_show"),b.doAolOmniture&&O()):(L(),b.doAolOmniture&&b.dataLayerEnvironmentIsolated&&b.omnitureEnvironmentIsolated&&O()),q();var i=new c(a,j(".grv_ratings"),b);i.includedInWidget()&&i.init();var n=new d(a,j(".grv_why_recos"),b);n.availableInWidget()&&n.init(),b.stylesLoadedPromise(a).then(function(){p()});if(Boolean(Y.attr("data-infinite-scroll"))&&(!window.gravityInsightsParams||!window.gravityInsightsParams.suppress_infinite_scroll)){(_.isFunction(b.isJsonp)?b.isJsonp():b.isJsonp)?new e(a,Y,b).init():console.warning&&console.warning("Gravity widget #"+b.sitePlacementId+": infinite scroll requires JSONP widget")}}}function O(){function c(){window.bN?window.bN.set&&window.bN.ping&&(window.bN.set("cids",function(){var b=[];return j(".beacon-ping-cids").each(function(){b.push(a(this).data("cid"))}),b.join(",")}(),1),window.bN.set("plids",function(){var b=[];return j(".beacon-ping-plids").each(function(){var c=a(this);b.push(c.data("plid")+"|"+c.data("mnid"))}),b.join(",")}(),1),window.bN.ping("mlt")):setTimeout(c,50)}window.bN_cfg={h:location.hostname,b:"b.aol.com",p:{module:b.aolOmniModuleName,brand:b.aolOmniBrand,cms_src:b.aolCmsSrc,cobrand:b.aolCobrand},view:0},b.isIframe&&(bN_cfg.scroll=0),window.grvAolOmniPassThru&&(window.grvAolOmniPassThru.prop23&&(window.bN_cfg.p.dL_ch=window.grvAolOmniPassThru.prop23),window.grvAolOmniPassThru.prop1&&(window.bN_cfg.p.dL_dpt=window.grvAolOmniPassThru.prop1),window.grvAolOmniPassThru.prop2&&(window.bN_cfg.p.dL_sDpt=window.grvAolOmniPassThru.prop2)),c(),window.runOmni=function(){if(window.s_265.pfxID="gra",window.s_265.pageName=b.aolOmniModuleName,window.grvAolOmniPassThru&&window.grvAolOmniPassThru.prop23?window.s_265.channel=window.grvAolOmniPassThru.prop23:window.s_265.channel="us.gravity",window.s_265.linkInternalFilters="javascript:,"+oa,window.s_265.trackExternalLinks=!1,window.grvAolOmniPassThru)for(var a in window.grvAolOmniPassThru)window.grvAolOmniPassThru.hasOwnProperty(a)&&(window.s_265[a]=window.grvAolOmniPassThru[a])},window.s_265_account=b.aolOmniAccount,function(){[".aolcdn.com/os/aol/omniture.min.js",".aolcdn.com/os/aol/beacon.min.js"].forEach(function(a){var c=document,d=c.createElement("script");d.type="text/javascript",d.src=(b.useHttps()?"https://s":"http://o")+a,c.getElementsByTagName("head")[0].appendChild(d)})}()}function P(a){for(var b=oa.split(","),c=b.length,d=R(a).toLowerCase(),e=!0,f=0;f<c;++f){var g,h=b[f].toLowerCase();if(h===d){e=!1;break}if("."===h.charAt(0)){if(h.substr(1)===d){e=!1;break}if(-1!=(g=d.indexOf(h))&&g===d.length-h.length){e=!1;break}}}return e}function Q(a,b){var c={};c.un="aolsvc",c.linkTrackVars="prop50,prop51",window.s_265=window.s_265||{};var d=s_265.doPlugins||function(){};s_265.doPlugins=function(a){d.apply(this,arguments),c.prop50=a.prop50=R(b),c.prop51=a.prop51=a.prop23},s_265.tl&&s_265.tl(a,"e",S(b),c)}function R(a){var b=/^[^:]+:\/\/([^\/]+)/.exec(a);return b&&b[1]||""}function S(a){return a.replace(/\?.*/,"")}f=!0===f;var T=b.siteGuid+":"+b.placementId+":"+b.containerId
;if(!f&&grvInittedWidgets[T])return void(window.console&&console.warn&&console.warn("grvInitWidget called for already initted widget sg "+b.siteGuid+" pl "+b.placementId+" cid "+b.containerId));grvInittedWidgets[T]=!0;var U,V,W,X,Y,Z=a(window),$=!!parent.postMessage,aa=Boolean(a.fn.dotdotdot),ba=aa&&b.truncateArticleTitles,ca=aa&&b.truncateArticleContent,da=!1,ea=a(document);if(_.isFunction(b.isJsonp)?b.isJsonp():b.isJsonp){if(window.grvWidgetSuccessCallbacks&&grvWidgetSuccessCallbacks.length)for(var fa=b.containerId,ha=0,ia=grvWidgetSuccessCallbacks.length;ha<ia;++ha)grvWidgetSuccessCallbacks[ha](fa,b);var ja=a(b.container());b.stylesLoadedPromise(a).always(function(){D(),ja.add(b.innerContainer(a)).css("opacity",1)})}var ka,la=!1;!function(){function c(a,b){a.each(function(){d.call(this,b)})}function d(b){var c=a(this),d=c.data("deferredImageScalePromise.grv");if(d&&d.then){var e=this;d.then(function(){g.call(e,b)})}else g.call(this,b)}function e(a,b){this.width=a,this.height=b}function f(a,b,c){var d=j+"?client="+k;return a&&(c?(d+="&resize="+a.width+","+a.height,d+="&blur_pad="+a.width):d+="&thumbnail="+a.width+","+a.height+",auto"),b.length>=2&&"//"===b.substring(0,1)&&(b=location.protocol+b),d+="&image_uri="+encodeURIComponent(b)}function g(c){var d=this,j=function(){g.call(d,c)},k=a(this),n=k.attr("title"),o=Math.max(0,parseInt(k.width())||0),p=Math.max(0,parseInt(k.height())||0),q=e.roundedWidth(o),r=e.roundedHeight(p),s=k.data("imageUrl")||"",t=k.find(".grv_article_img:first"),u=l.test(s);if(!Y.parent().hasClass("grvHidden")){var v=k.data("campaignUsesThumby");if(1!==b.thumbyMode&&!0!==b.thumbyMode&&"on"!==b.thumbyMode&&"withServerSideBlur"!==b.thumbyMode&&1!==v&&"1"!==v&&"on"!==v&&"withServerSideBlur"!==v||u)t.length?t.hasClass("grvPreloadedImg")?(t.removeClass("grvPreloadedImg").addClass("grv_positionable").bind("rescaleImage.grv",j),t[0].width&&t[0].height?h.call(t[0],k,t):t.load(function(){h.call(this,k,t)}),b.enableImageTooltip&&t.attr("title",n)):t.data("imageWidth")&&t.data("imageHeight")&&i(k,t,t.data("imageWidth"),t.data("imageHeight")):(b.useHttps()&&(s=f(null,s)),t=a('<img class="grv_article_img grv_positionable" />').load(function(){h.call(this,k,t)}).one("error",function(){m.call(t[0],q,r)}).bind("rescaleImage.grv",j).attr("src",s).appendTo(k),b.enableImageTooltip&&t.attr("title",n));else{var w=k.data("lastImgRoundedWidth.grv")||null,x=k.data("lastImgRoundedHeight.grv")||null;(!t.length||q!==w||r!==x||c)&&s&&(q&&r||c)&&(t.length&&t.remove(),k.data("lastImgLinkWidth.grv",o).data("lastImgLinkHeight.grv",p).data("lastImgRoundedWidth.grv",q).data("lastImgRoundedHeight.grv",r),t=a('<img class="grv_article_img grv_positionable" />').one("error",function(){m.call(this,q,r)}).one("load",function(){var a=new Image;a.src=this.src,1===parseInt(a.width)||1===parseInt(a.height)?m.call(this,q,r):h.call(this,k,t),a=null}).bind("rescaleImage.grv",j).attr("src",f(new e(q,r),s,"withServerSideBlur"===b.thumbyMode||"withServerSideBlur"===v)).appendTo(k),b.enableImageTooltip&&t.attr("title",n))}}}function h(a,b){var c=this.width,d=this.height;b.data("imageWidth",c).data("imageHeight",d),i(a,b,c,d)}function i(a,b,c,d){o(a,b,c,d),p(a,b)}ka=function(d,e){null==d&&(d=X),ea.width()<=1&&d.css("opacity",0),(_.isFunction(b.isJsonp)?b.isJsonp():b.isJsonp)?b.stylesLoadedPromise(a).always(function(){c(d,e),d.css("opacity",1)}):c(d,e),r()&&d.css("opacity",1)},e.DEFAULT_DIMENSION_STR="original",e.WIDTH_ROUND_UP_TO_NEAREST_PX=50,e.HEIGHT_ROUND_UP_TO_NEAREST_PX=50,e.roundedWidth=function(a){return Math.ceil(a/e.WIDTH_ROUND_UP_TO_NEAREST_PX)*e.WIDTH_ROUND_UP_TO_NEAREST_PX},e.roundedHeight=function(a){return Math.ceil(a/e.HEIGHT_ROUND_UP_TO_NEAREST_PX)*e.HEIGHT_ROUND_UP_TO_NEAREST_PX};var j="https://o.aolcdn.com/images/dims",k="5c82fa76e5d70770b51b",l=/^[^:]+:\/\/dlug-assets\.grvcdn\.com\//i,m=function(c,d){if(c&&d){var g=a(this),h=f(new e(c,d),b.brokenImgUrl);g.one("error",n).addClass("grv_full_width grv_full_height").removeClass("grv_positionable").attr("src",h)}else n.call(this)},n=function(){var c=a(this);c.addClass("grv_positionable").load(function(){i(c.closest(".grv_img_link"),c,this.width,this.height)}).attr("src",b.brokenImgUrl)},o=function(a,b,c,d){var e=parseInt(a.width()),f=parseInt(a.height());e/f<c/d?(b.addClass("grv_full_height").css("left",-(c/d*f-e)/2),b.removeClass("grv_full_width")):(b.addClass("grv_full_width").css("left",0),b.removeClass("grv_full_height"),s(b))},p=function(a,b){b.height()<a.height()&&b.siblings(".grv_post_type").css("bottom",a.height()-b.height()+"px")}}();var ma=!1;if(b.isIframe)a(N);else{var na=function(){if(!b.container())return void setTimeout(na,25);N();var c=a(b.container());c.attr("data-grv-original-position")&&b.stylesLoadedPromise(a).then(function(){c.removeClass("grvHidden").css({position:c.attr("data-grv-original-position"),top:c.attr("data-grv-original-top"),left:c.attr("data-grv-original-left")})})};na()}Z.load(function(){p()});var oa=".aol.com,.mapquest.com,#dl,.atwola.com,.doubleclick.net,.ru4.com,.adsonar.com,.aol.it,about:,aol://,.aol.co.uk,.aol.ca,.aim.com,.huffingtonpost.co.uk,.huffingtonpost.ca,huff.to,.games.com,.dailyfinance.com,.stylelist.com,.patch.com,.aoltv.com,aol.sportingnews.com,.engadget.com,.autoblog.com,.noisecreep.com,.theboot.com,.spinner.com,.mydaily.com,.mydaily.co.uk,.cambio.com,.moviefone.com,.mandatory.com,.pawnation.com,.theboombox.com,webmail.cs.com,.techcrunch.com,.gadling.com,aolradio.slacker.com,.adtech.de,.makers.com,.247wallst.com,.aolcdn.com,aol.careerbuilder.com,.aolradio.com,.aolartists.com,.parentdish.co.uk,.walletpop.ca,.aolradioblog.com,.aolheroes.com,.shortcuts.com,.joystiq.com,.tuaw.com,.homesessive.com,.kitchendaily.com,.purpleclover.com,.huffingtonpost.com,.huffpost.com,.wow.com,.stylemepretty.com,.tested.com,.crunchbase.com,aol.king.com,.netscape.com,.compuserve.com,.aolsearch.com,.moviefone.ca,.altomail.com,.luxist.com,.mapquest.co.uk,.mapquest.ca,.stylelist.ca,.parentdish.ca,.gathr.com,.tourtracker.com,.gdgt.com";a.fn.extend({grvForceInsertArticleImage:function(){return ka(this,!0),this}})},window.grvOnWidgetJsReady&&grvOnWidgetJsReady.length)for(var f;f=grvOnWidgetJsReady.shift();f());}catch(a){window.console&&console.warn&&(console.warn("Gravity, suppressing widget.js exception:"),console.warn(a))}b.exports=a}({},function(){return this}());})();