!function t(e,n,r){function o(l,s){if(!n[l]){if(!e[l]){var a="function"==typeof require&&require;if(!s&&a)return a(l,!0);if(i)return i(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};e[l][0].call(u.exports,function(t){var n=e[l][1][t];return o(n?n:t)},u,u.exports,t,e,n,r)}return n[l].exports}for(var i="function"==typeof require&&require,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(t,e,n){"use strict";function r(t){t.fn.perfectScrollbar=function(e){return this.each(function(){if("object"==typeof e||"undefined"==typeof e){var n=e;i.get(this)||o.initialize(this,n)}else{var r=e;"update"===r?o.update(this):"destroy"===r&&o.destroy(this)}return t(this)})}}var o=t("../main"),i=t("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],r);else{var l=window.jQuery?window.jQuery:window.$;"undefined"!=typeof l&&r(l)}e.exports=r},{"../main":7,"../plugin/instances":18}],2:[function(t,e,n){"use strict";function r(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}function o(t,e){var n=t.className.split(" "),r=n.indexOf(e);r>=0&&n.splice(r,1),t.className=n.join(" ")}n.add=function(t,e){t.classList?t.classList.add(e):r(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):o(t,e)},n.list=function(t){return t.classList?t.classList:t.className.split(" ")}},{}],3:[function(t,e,n){"use strict";function r(t,e){return window.getComputedStyle(t)[e]}function o(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}function i(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r=r.toString()+"px"),t.style[n]=r}return t}n.e=function(t,e){var n=document.createElement(t);return n.className=e,n},n.appendTo=function(t,e){return e.appendChild(t),t},n.css=function(t,e,n){return"object"==typeof e?i(t,e):"undefined"==typeof n?r(t,e):o(t,e,n)},n.matches=function(t,e){return"undefined"!=typeof t.matches?t.matches(e):"undefined"!=typeof t.matchesSelector?t.matchesSelector(e):"undefined"!=typeof t.webkitMatchesSelector?t.webkitMatchesSelector(e):"undefined"!=typeof t.mozMatchesSelector?t.mozMatchesSelector(e):"undefined"!=typeof t.msMatchesSelector?t.msMatchesSelector(e):void 0},n.remove=function(t){"undefined"!=typeof t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}},{}],4:[function(t,e,n){"use strict";var r=function(t){this.element=t,this.events={}};r.prototype.bind=function(t,e){"undefined"==typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},r.prototype.unbind=function(t,e){var n="undefined"!=typeof e;this.events[t]=this.events[t].filter(function(r){return n&&r!==e?!0:(this.element.removeEventListener(t,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return"undefined"==typeof e&&(e=new r(t),this.eventElements.push(e)),e},o.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},o.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},o.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},o.prototype.once=function(t,e,n){var r=this.eventElement(t),o=function(t){r.unbind(e,o),n(t)};r.bind(e,o)},e.exports=o},{}],5:[function(t,e,n){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,n){"use strict";var r=t("./class"),o=t("./dom");n.toInt=function(t){return parseInt(t,10)||0},n.clone=function(t){if(null===t)return null;if("object"==typeof t){var e={};for(var n in t)e[n]=this.clone(t[n]);return e}return t},n.extend=function(t,e){var n=this.clone(t);for(var r in e)n[r]=this.clone(e[r]);return n},n.isEditable=function(t){return o.matches(t,"input,[contenteditable]")||o.matches(t,"select,[contenteditable]")||o.matches(t,"textarea,[contenteditable]")||o.matches(t,"button,[contenteditable]")},n.removePsClasses=function(t){for(var e=r.list(t),n=0;n<e.length;n++){var o=e[n];0===o.indexOf("ps-")&&r.remove(t,o)}},n.outerWidth=function(t){return this.toInt(o.css(t,"width"))+this.toInt(o.css(t,"paddingLeft"))+this.toInt(o.css(t,"paddingRight"))+this.toInt(o.css(t,"borderLeftWidth"))+this.toInt(o.css(t,"borderRightWidth"))},n.startScrolling=function(t,e){r.add(t,"ps-in-scrolling"),"undefined"!=typeof e?r.add(t,"ps-"+e):(r.add(t,"ps-x"),r.add(t,"ps-y"))},n.stopScrolling=function(t,e){r.remove(t,"ps-in-scrolling"),"undefined"!=typeof e?r.remove(t,"ps-"+e):(r.remove(t,"ps-x"),r.remove(t,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,n){"use strict";var r=t("./plugin/destroy"),o=t("./plugin/initialize"),i=t("./plugin/update");e.exports={initialize:o,update:i,destroy:r}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":20}],8:[function(t,e,n){"use strict";e.exports={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0}},{}],9:[function(t,e,n){"use strict";var r=t("../lib/dom"),o=t("../lib/helper"),i=t("./instances");e.exports=function(t){var e=i.get(t);e&&(e.event.unbindAll(),r.remove(e.scrollbarX),r.remove(e.scrollbarY),r.remove(e.scrollbarXRail),r.remove(e.scrollbarYRail),o.removePsClasses(t),i.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,n){"use strict";function r(t,e){function n(t){return t.getBoundingClientRect()}var r=window.Event.prototype.stopPropagation.bind;e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarY,"click",r),e.event.bind(e.scrollbarYRail,"click",function(r){var i=o.toInt(e.scrollbarYHeight/2),s=e.railYRatio*(r.pageY-window.scrollY-n(e.scrollbarYRail).top-i),a=e.railYRatio*(e.railYHeight-e.scrollbarYHeight),c=s/a;0>c?c=0:c>1&&(c=1),t.scrollTop=(e.contentHeight-e.containerHeight)*c,l(t),r.stopPropagation()}),e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarX,"click",r),e.event.bind(e.scrollbarXRail,"click",function(r){var i=o.toInt(e.scrollbarXWidth/2),s=e.railXRatio*(r.pageX-window.scrollX-n(e.scrollbarXRail).left-i),a=e.railXRatio*(e.railXWidth-e.scrollbarXWidth),c=s/a;0>c?c=0:c>1&&(c=1),t.scrollLeft=(e.contentWidth-e.containerWidth)*c-e.negativeScrollAdjustment,l(t),r.stopPropagation()})}var o=t("../../lib/helper"),i=t("../instances"),l=t("../update-geometry");e.exports=function(t){var e=i.get(t);r(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],11:[function(t,e,n){"use strict";function r(t,e){function n(n){var o=r+n*e.railXRatio,i=e.scrollbarXRail.getBoundingClientRect().left+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=0>o?0:o>i?i:o;var s=l.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;t.scrollLeft=s}var r=null,o=null,s=function(e){n(e.pageX-o),a(t),e.stopPropagation(),e.preventDefault()},c=function(){l.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",s)};e.event.bind(e.scrollbarX,"mousedown",function(n){o=n.pageX,r=l.toInt(i.css(e.scrollbarX,"left"))*e.railXRatio,l.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",s),e.event.once(e.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()})}function o(t,e){function n(n){var o=r+n*e.railYRatio,i=e.scrollbarYRail.getBoundingClientRect().top+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=0>o?0:o>i?i:o;var s=l.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));t.scrollTop=s}var r=null,o=null,s=function(e){n(e.pageY-o),a(t),e.stopPropagation(),e.preventDefault()},c=function(){l.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",s)};e.event.bind(e.scrollbarY,"mousedown",function(n){o=n.pageY,r=l.toInt(i.css(e.scrollbarY,"top"))*e.railYRatio,l.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",s),e.event.once(e.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()})}var i=t("../../lib/dom"),l=t("../../lib/helper"),s=t("../instances"),a=t("../update-geometry");e.exports=function(t){var e=s.get(t);r(t,e),o(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19}],12:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&0>r)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===i&&0>n||i>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}var r=!1;e.event.bind(t,"mouseenter",function(){r=!0}),e.event.bind(t,"mouseleave",function(){r=!1});var i=!1;e.event.bind(e.ownerDocument,"keydown",function(s){if((!s.isDefaultPrevented||!s.isDefaultPrevented())&&r){var a=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(a){for(;a.shadowRoot;)a=a.shadowRoot.activeElement;if(o.isEditable(a))return}var c=0,u=0;switch(s.which){case 37:c=-30;break;case 38:u=30;break;case 39:c=30;break;case 40:u=-30;break;case 33:u=90;break;case 32:case 34:u=-90;break;case 35:u=s.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:u=s.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}t.scrollTop=t.scrollTop-u,t.scrollLeft=t.scrollLeft+c,l(t),i=n(c,u),i&&s.preventDefault()}})}var o=t("../../lib/helper"),i=t("../instances"),l=t("../update-geometry");e.exports=function(t){var e=i.get(t);r(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],13:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&0>r)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===i&&0>n||i>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}function r(t){var e=t.deltaX,n=-1*t.deltaY;return("undefined"==typeof e||"undefined"==typeof n)&&(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),[e,n]}function i(e,n){var r=t.querySelector("textarea:hover");if(r){var o=r.scrollHeight-r.clientHeight;if(o>0&&!(0===r.scrollTop&&n>0||r.scrollTop===o&&0>n))return!0;var i=r.scrollLeft-r.clientWidth;if(i>0&&!(0===r.scrollLeft&&0>e||r.scrollLeft===i&&e>0))return!0}return!1}function s(s){if(o.env.isWebKit||!t.querySelector("select:focus")){var c=r(s),u=c[0],d=c[1];i(u,d)||(a=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(t.scrollTop=d?t.scrollTop-d*e.settings.wheelSpeed:t.scrollTop+u*e.settings.wheelSpeed,a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(t.scrollLeft=u?t.scrollLeft+u*e.settings.wheelSpeed:t.scrollLeft-d*e.settings.wheelSpeed,a=!0):(t.scrollTop=t.scrollTop-d*e.settings.wheelSpeed,t.scrollLeft=t.scrollLeft+u*e.settings.wheelSpeed),l(t),a=a||n(u,d),a&&(s.stopPropagation(),s.preventDefault()))}}var a=!1;"undefined"!=typeof window.onwheel?e.event.bind(t,"wheel",s):"undefined"!=typeof window.onmousewheel&&e.event.bind(t,"mousewheel",s)}var o=t("../../lib/helper"),i=t("../instances"),l=t("../update-geometry");e.exports=function(t){var e=i.get(t);r(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],14:[function(t,e,n){"use strict";function r(t,e){e.event.bind(t,"scroll",function(){i(t)})}var o=t("../instances"),i=t("../update-geometry");e.exports=function(t){var e=o.get(t);r(t,e)}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,n){"use strict";function r(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function r(){a||(a=setInterval(function(){return i.get(t)?(t.scrollTop=t.scrollTop+c.top,t.scrollLeft=t.scrollLeft+c.left,void l(t)):void clearInterval(a)},50))}function s(){a&&(clearInterval(a),a=null),o.stopScrolling(t)}var a=null,c={top:0,left:0},u=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(n())?u=!0:(u=!1,s())}),e.event.bind(window,"mouseup",function(){u&&(u=!1,s())}),e.event.bind(window,"mousemove",function(e){if(u){var n={x:e.pageX,y:e.pageY},i={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};n.x<i.left+3?(c.left=-5,o.startScrolling(t,"x")):n.x>i.right-3?(c.left=5,o.startScrolling(t,"x")):c.left=0,n.y<i.top+3?(c.top=i.top+3-n.y<5?-5:-20,o.startScrolling(t,"y")):n.y>i.bottom-3?(c.top=n.y-i.bottom+3<5?5:20,o.startScrolling(t,"y")):c.top=0,0===c.top&&0===c.left?s():r()}})}var o=t("../../lib/helper"),i=t("../instances"),l=t("../update-geometry");e.exports=function(t){var e=i.get(t);r(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],16:[function(t,e,n){"use strict";function r(t,e,n,r){function l(n,r){var o=t.scrollTop,i=t.scrollLeft,l=Math.abs(n),s=Math.abs(r);if(s>l){if(0>r&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return!e.settings.swipePropagation}else if(l>s&&(0>n&&i===e.contentWidth-e.containerWidth||n>0&&0===i))return!e.settings.swipePropagation;return!0}function s(e,n){t.scrollTop=t.scrollTop-n,t.scrollLeft=t.scrollLeft-e,i(t)}function a(){Y=!0}function c(){Y=!1}function u(t){return t.targetTouches?t.targetTouches[0]:t}function d(t){return t.targetTouches&&1===t.targetTouches.length?!0:t.pointerType&&"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE?!0:!1}function p(t){if(d(t)){y=!0;var e=u(t);b.pageX=e.pageX,b.pageY=e.pageY,g=(new Date).getTime(),null!==m&&clearInterval(m),t.stopPropagation()}}function f(t){if(!Y&&y&&d(t)){var e=u(t),n={pageX:e.pageX,pageY:e.pageY},r=n.pageX-b.pageX,o=n.pageY-b.pageY;s(r,o),b=n;var i=(new Date).getTime(),a=i-g;a>0&&(v.x=r/a,v.y=o/a,g=i),l(r,o)&&(t.stopPropagation(),t.preventDefault())}}function h(){!Y&&y&&(y=!1,clearInterval(m),m=setInterval(function(){return o.get(t)?Math.abs(v.x)<.01&&Math.abs(v.y)<.01?void clearInterval(m):(s(30*v.x,30*v.y),v.x*=.8,void(v.y*=.8)):void clearInterval(m)},10))}var b={},g=0,v={},m=null,Y=!1,y=!1;n&&(e.event.bind(window,"touchstart",a),e.event.bind(window,"touchend",c),e.event.bind(t,"touchstart",p),e.event.bind(t,"touchmove",f),e.event.bind(t,"touchend",h)),r&&(window.PointerEvent?(e.event.bind(window,"pointerdown",a),e.event.bind(window,"pointerup",c),e.event.bind(t,"pointerdown",p),e.event.bind(t,"pointermove",f),e.event.bind(t,"pointerup",h)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",a),e.event.bind(window,"MSPointerUp",c),e.event.bind(t,"MSPointerDown",p),e.event.bind(t,"MSPointerMove",f),e.event.bind(t,"MSPointerUp",h)))}var o=t("../instances"),i=t("../update-geometry");e.exports=function(t,e,n){var i=o.get(t);r(t,i,e,n)}},{"../instances":18,"../update-geometry":19}],17:[function(t,e,n){"use strict";var r=t("../lib/class"),o=t("../lib/helper"),i=t("./instances"),l=t("./update-geometry"),s=t("./handler/click-rail"),a=t("./handler/drag-scrollbar"),c=t("./handler/keyboard"),u=t("./handler/mouse-wheel"),d=t("./handler/native-scroll"),p=t("./handler/selection"),f=t("./handler/touch");e.exports=function(t,e){e="object"==typeof e?e:{},r.add(t,"ps-container");var n=i.add(t);n.settings=o.extend(n.settings,e),s(t),a(t),u(t),d(t),p(t),(o.env.supportsTouch||o.env.supportsIePointer)&&f(t,o.env.supportsTouch,o.env.supportsIePointer),n.settings.useKeyboard&&c(t),l(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,n){"use strict";function r(t){var e=this;e.settings=d.clone(a),e.containerWidth=null,e.containerHeight=null,e.contentWidth=null,e.contentHeight=null,e.isRtl="rtl"===s.css(t,"direction"),e.isNegativeScroll=function(){var e=t.scrollLeft,n=null;return t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=e,n}(),e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,e.event=new c,e.ownerDocument=t.ownerDocument||document,e.scrollbarXRail=s.appendTo(s.e("div","ps-scrollbar-x-rail"),t),e.scrollbarX=s.appendTo(s.e("div","ps-scrollbar-x"),e.scrollbarXRail),e.scrollbarXActive=null,e.scrollbarXWidth=null,e.scrollbarXLeft=null,e.scrollbarXBottom=d.toInt(s.css(e.scrollbarXRail,"bottom")),e.isScrollbarXUsingBottom=e.scrollbarXBottom===e.scrollbarXBottom,e.scrollbarXTop=e.isScrollbarXUsingBottom?null:d.toInt(s.css(e.scrollbarXRail,"top")),e.railBorderXWidth=d.toInt(s.css(e.scrollbarXRail,"borderLeftWidth"))+d.toInt(s.css(e.scrollbarXRail,"borderRightWidth")),s.css(e.scrollbarXRail,"display","block"),e.railXMarginWidth=d.toInt(s.css(e.scrollbarXRail,"marginLeft"))+d.toInt(s.css(e.scrollbarXRail,"marginRight")),s.css(e.scrollbarXRail,"display",""),e.railXWidth=null,e.railXRatio=null,e.scrollbarYRail=s.appendTo(s.e("div","ps-scrollbar-y-rail"),t),e.scrollbarY=s.appendTo(s.e("div","ps-scrollbar-y"),e.scrollbarYRail),e.scrollbarYActive=null,e.scrollbarYHeight=null,e.scrollbarYTop=null,e.scrollbarYRight=d.toInt(s.css(e.scrollbarYRail,"right")),e.isScrollbarYUsingRight=e.scrollbarYRight===e.scrollbarYRight,e.scrollbarYLeft=e.isScrollbarYUsingRight?null:d.toInt(s.css(e.scrollbarYRail,"left")),e.scrollbarYOuterWidth=e.isRtl?d.outerWidth(e.scrollbarY):null,e.railBorderYWidth=d.toInt(s.css(e.scrollbarYRail,"borderTopWidth"))+d.toInt(s.css(e.scrollbarYRail,"borderBottomWidth")),s.css(e.scrollbarYRail,"display","block"),e.railYMarginHeight=d.toInt(s.css(e.scrollbarYRail,"marginTop"))+d.toInt(s.css(e.scrollbarYRail,"marginBottom")),s.css(e.scrollbarYRail,"display",""),e.railYHeight=null,e.railYRatio=null}function o(t){return"undefined"==typeof t.dataset?t.getAttribute("data-ps-id"):t.dataset.psId}function i(t,e){"undefined"==typeof t.dataset?t.setAttribute("data-ps-id",e):t.dataset.psId=e}function l(t){"undefined"==typeof t.dataset?t.removeAttribute("data-ps-id"):delete t.dataset.psId}var s=t("../lib/dom"),a=t("./default-setting"),c=t("../lib/event-manager"),u=t("../lib/guid"),d=t("../lib/helper"),p={};n.add=function(t){var e=u();return i(t,e),p[e]=new r(t),p[e]},n.remove=function(t){delete p[o(t)],l(t)},n.get=function(t){return p[o(t)]}},{"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,n){"use strict";function r(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function o(t,e){var n={width:e.railXWidth};n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,l.css(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?r.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:e.scrollbarYRight-t.scrollLeft:r.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,l.css(e.scrollbarYRail,r),l.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),l.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var i=t("../lib/class"),l=t("../lib/dom"),s=t("../lib/helper"),a=t("./instances");e.exports=function(t){var e=a.get(t);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||l.appendTo(e.scrollbarXRail,t),t.contains(e.scrollbarYRail)||l.appendTo(e.scrollbarYRail,t),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=r(e,s.toInt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=s.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):(e.scrollbarXActive=!1,e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=0),!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=r(e,s.toInt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=s.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):(e.scrollbarYActive=!1,e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0),e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),o(t,e),i[e.scrollbarXActive?"add":"remove"](t,"ps-active-x"),i[e.scrollbarYActive?"add":"remove"](t,"ps-active-y")}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18}],20:[function(t,e,n){"use strict";var r=t("../lib/dom"),o=t("../lib/helper"),i=t("./instances"),l=t("./update-geometry");e.exports=function(t){var e=i.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.css(e.scrollbarXRail,"display","block"),r.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=o.toInt(r.css(e.scrollbarXRail,"marginLeft"))+o.toInt(r.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=o.toInt(r.css(e.scrollbarYRail,"marginTop"))+o.toInt(r.css(e.scrollbarYRail,"marginBottom")),r.css(e.scrollbarXRail,"display","none"),r.css(e.scrollbarYRail,"display","none"),l(t),r.css(e.scrollbarXRail,"display",""),r.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19}]},{},[1]);function isEmail(emailAddress){emailAddressValue=emailAddress.value;var emailAddressRegex=/^[^@\s]+@[^\.@\s]+(\.[^@\s^\.]+)+$/;if(emailAddress.value===''||emailAddress===null){return true;}
if(!emailAddressRegex.test(emailAddressValue)){alert('L\'adresse Email semble incorrecte,\nveuillez vérifier la syntaxe.');emailAddress.focus();return false;}
return true;}
String.prototype.trim=function(){return this.replace(/^\s*(\b.*\b|)\s*$/,"$1");};function mandatoryText(input,fieldName){if(input.value.trim()===''||input===null){alert('Veuillez saisir '+fieldName+'.');input.focus();return false;}else{return true;}}
function validForm(caller,newsletter_type){var form=$(caller).parents("form")[0];if(form.dataset['type']){newsletter_type=form.dataset['type']}
console.log(newsletter_type);var emailField=form.querySelector(".input-email")||form.querySelector(".next-input-email");if(!mandatoryText(emailField,'Email'))return false;if(!isEmail(emailField))return false;var emailAddressValue=emailField.value;var newsletter_form_data={'newsletter-campagne':{'emv_tag':'255F83AC5901255F','emv_ref':'dmo3mRmsaTwZC-UruawYfbk4tofichkb-tpEdofysjIj5NHHAgi8E2Zr8V1z2X0z/RHshP5hTunqij8_QZ7KKWQ','TITLE_FIELD':'NEWSLETTER_POLITIQUE','NEWSLETTER_POLITIQUE_FIELD':1,'EMAIL_FIELD':emailAddressValue,},'newsletter-form':{'emv_tag':'296020001704FFE2','emv_ref':'EdX7CqkdLyy38SA9MOPfGqfVIUp6Hq3D-jnae61ALrXbKPk','EMAIL_FIELD':emailAddressValue,'TITLE_FIELD':'LIBE_NL_site','ABO_NEWSLETTER_FIELD':1,'EVENEMENT_LIBE_OPT_IN_FIELD':1,'OPTIN_ARTICLE_RECOMMANDE_FIELD':1,}}
$.ajax({url:'http://tre.emv3.com/D2UTF8',data:newsletter_form_data[newsletter_type],success:function(){form.reset();alert('Votre inscription a bien été validée.');},error:function(){alert('Une erreur est survenue, impossible de terminer l\'inscription.');},});return false;}
$(function(){$(".next-input-email").keypress(function(e){if(e.which==13){e.event.stopPropagation();e.preventDefault();return validForm(this,'newsletter-form')}});$(".input-email").keypress(function(e){if(e.which==13){e.stopPropagation();e.preventDefault();return validForm(this,'newsletter-form')}});});initLivefyreComment=function(elem){var livefyre_i18n={signIn:"Identifiez-vous pour commenter",signInGuest:"Se connecter en tant qu'invité",signOut:"Se déconnecter",editProfile:"Editer le profil",siteAdmin:"Administration",postButton:"Envoyer",postAsButton:"Envoyer",postReplyButton:"Envoyer",postEditButton:"Editer",postEditCancelButton:"Annuler l'édition",commentCountLabel:"commentaire",commentCountLabelPlural:"commentaires",listenerCount:"suit la conversation",listenerCountPlural:"suivent la conversation",likeButton:"J'aime",unlikeButton:"Je n'aime plus",editButton:"Editer",replyButton:"Répondre",follow:"Suivre",unfollow:"Ne plus suivre",banUserButton:"Bannir",deleteButton:"Supprimer",flagButton:"Signaler",shareButton:"Partager",sortNewest:"Plus récents",sortOldest:"Plus anciens",sortSeparator:" | ",sortHotThreads:"Hot topics",sortBackButton:"Rétablir",sortTopComments:"Top commentaires",hotThreadsContentNotFoundMsg:"Aucun hot topic trouvé",topCommentsContentNotFoundMsg:"Aucun top commentaire trouvé",topContentRefreshMsg:"Rafraîchir",threadBreakoutButton:"Sortir",banUserTooltip:"Bannir un utilisateur",deleteCommentTooltip:"Supprimer le commentaire",flagCommentTooltip:"Signaler un commentaire",shareCommentTooltip:"Partager un commentaire",banTitle:"Bannir",banConfirmation:"Etes-vous sûr de vouloir bannir l'utilisateur ?",banConfirmButton:"OK",banCancelButton:"Annuler",flagSpam:"Spam",flagOffensive:"Offensant",flagDisagree:"Message biaisé/faux",flagOffTopic:"Hors sujet",flagTitle:"Signaler le commentaire de",flagSubtitle:"Signaler comme",flagEmail:"Email",flagEmailPlaceholder:"vous@example.fr",flagNotes:"Message",flagNotesPlaceholder:"Commencez votre message ici...",flagConfirmButton:"OK",flagCancelButton:"Annuler",flagSuccessMsg:"Message envoyé avec succès.",flagConfirmationMessage:"Votre message a bien été pris en compte.",shareDefaultText:"Regardez le message!",shareTitle:"Partager le commentaire",shareButtonText:"Partager",shareLabel:"Partager sur :",sharePermalink:"Permalien",mentionTitle:"Partager le message avec un ami",mentionSubtitleFacebook:"Partager le message sur compte Facebook de :",mentionSubtitleTwitter:"Partager le message sur compte Twitter de :",mentionDefaultText:"Je viens de te mentionner dans un commentaire sur Livefyre!",mentionConfirmButton:"OK",mentionCancelButton:"Annuler",mentionSuccessMsg:"Message envoyé avec succès.",mentionErrorNoneSelected:"Un ou plusieurs champs n'ont pas été remplis.",mentionErrorGeneral:"Erreur lors de l'envoie de votre message.",timeJustNow:"A l'instant",timeMinutesAgo:"Il y a une minute",timeMinutesAgoPlural:"Il y a quelques minutes",timeHoursAgo:"Il y a une heure",timeHoursAgoPlural:"Il y a quelques heures",timeDaysAgo:"Il y a un jour",timeDaysAgoPlural:"Il y a quelques jours",errorAuthError:"Erreur d'identification",errorCommentsNotAllowed:"Commentaire non autorisé",errorDuplicate:"Votre message a déjà été publié.",errorEditDuplicate:"Même si vous adorez votre commentaire, il est interdit de le poster une seconde fois.",errorEditNotAllowed:"Vous ne pouvez plus éditer votre commentaire.",errorEmpty:"Il semblerait que vous essayiez de poster un commentaire vide.",errorInsufficientPermissions:"Vous n'avez pas toutes les autorisations pour poster ce message.",errorInvalidChar:"Il semblerait que des caractères que vous utilisez ne soient pas autorisés dans les commentaires.",errorLikeOwnComment:"Vous ne pouvez pas aimer votre propre commentaire.",errorMalformed:"",errorMaxChars:"Votre commentaire dépasse le nombre maximum de caractères autorisés.",errorExpired:"Votre message a expiré.",errorEditTimeExceed:"Le délais imparti pour modifier votre commentaire a été dépassé.",errorShowMore:"Erreur lors de la mise à jour.",errorDefault:"Erreur: rafraîchissez la page.",moderator:"Libération",moderatorEditTimeStamp:"Edité",pendingComment:"Votre message est en attente de modération.",showMore:"Afficher plus de commentaires",hovercardViewProfile:"Afficher le profil en entier",customHtmlDialogTitle:"",commentNotifier:"nouveau commentaire",commentNotifierPlural:"nouveaux commentaires",replyButtonSingular:"",replyButtonPlural:"",livechatPostButtonLabel:"Poster",livechatWindowsInstruction:"",livechatOtherInstruction:"",livechatPostEditButton:"Editer",liveblogPostCountLabel:"",liveblogPostCountLabelPlural:"",showMoreLiveblog:"",months:['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Décembre']};var $open_comments_link=$(elem);var $comment_modal=$('.libe-aside-comment')[0];var networkConfig={network:$open_comments_link.data('lfNetwork'),strings:livefyre_i18n};var formatDate=function(theDateInput){var date=new Date(theDateInput);return date.getDate()+" "+livefyre_i18n["months"][date.getMonth()]+" "+date.getUTCFullYear()+" à "+date.getHours()+":"+date.getMinutes();};var convConfig={siteId:$open_comments_link.data('lfSiteId'),articleId:$open_comments_link.data('lfArticleId'),el:'comments_container-'+$open_comments_link.data('lfArticleId'),collectionMeta:$open_comments_link.data('lfMetadata'),checksum:$open_comments_link.data('lfChecksum'),disableAvatars:true,datetimeFormat:formatDate,};function buildComments(){if($("#"+convConfig.el).length==0){$('.libe-comment-container').remove();$($comment_modal).append($("<div class='libe-comment-container js-stop-scroll-propagation' id='"+convConfig.el+"'>"+"</div>"));Livefyre.require(['fyre.conv#3','auth'],function(Conv,auth){new Conv(networkConfig,[convConfig]);var d={login:function(cb){if(libeUserInfo.authenticated){cb(null,{livefyre:libeUserInfo.livefyre_token});}else{window.open('http://'+libeUserInfo.token_host+'/accounts/login');}},logout:function(cb){cb(null);},viewProfile:function(author){},editProfile:function(author){}}
auth.delegate(d);if(libeUserInfo.authenticated){auth.login();}});$($comment_modal).addClass('open');}
return;};buildComments();return;}
$(function(){$(document).on('infinityScrollEnterPage',function(event){event.preventDefault();$('.libe-comment-container').remove();$('.libe-aside-comment').removeClass('open');});});var DocumentController=(function(window,document,undefined){'use strict';var $window=$(window),lastPos=0,pos=0,windowWidth=0,windowHeight=0,headerFixNavHeight=0,lastTitle="",updateSizes=function(){windowWidth=$window.width();windowHeight=$window.height();for(var i=0,len=resizeStack.length;i<len;i++){resizeStack[i]();}},updateScroll=function(){for(var i=0,len=scrollStack.length;i<len;i++){scrollStack[i]();}
$('.js-scroll-anim').each(function(index){$(this).addClass('js-anim-init');var start=$(this).offset().top,line=pos+(windowHeight/1.5);if(line>=start){$(this).addClass('js-anim');}});},tooltip=function(){var timerIn,timerOut;$('[data-libe-tooltip]').mouseenter(function(){var $tooltip=$('.default-tooltip'),data=$(this).data('libe-tooltip');if(data=='share'){$tooltip=$('.share-tooltip');}
var top=$(this).offset().top,left=$(this).offset().left,centering=$(this).width()/2;var bodyHeight=$tooltip.show().find('.lib-tooltip-body').height();$tooltip.hide();if((top-bodyHeight)-headerFixNavHeight<pos){$tooltip.addClass('bottom-tooltip');top+=$(this).height()+10;}
else{$tooltip.removeClass('bottom-tooltip');}
$tooltip.css({top:top,left:left+centering});$tooltip.addClass('show').show();var $body=$tooltip.find('.lib-tooltip-body'),$text=$tooltip.find('.lib-tooltip-text');if(data!='share'){$text.text(data);}
var bodyLeft=$text.outerWidth()/2;var l=(left+centering)-bodyLeft;$body.css({left:-bodyLeft});if((l+$text.outerWidth())>windowWidth){bodyLeft+=(l+$text.outerWidth())-windowWidth;}
else if(bodyLeft<0){bodyLeft=0;}
else{}
$body.css({left:-bodyLeft});$(this).addClass('active');window.clearTimeout(timerOut);window.clearTimeout(timerIn);}).mouseleave(function(){window.clearTimeout(timerOut);window.clearTimeout(timerIn);var $this=$(this);timerIn=window.setTimeout(function(){if(!$('.lib-tooltip.show').is(':hover')){var $tooltip=$('.lib-tooltip');$tooltip.removeClass('show');timerOut=window.setTimeout(function(){$tooltip.attr('style','');},200);$this.removeClass('active');}},200);});$('.lib-tooltip-body').mouseleave(function(){window.clearTimeout(timerOut);window.clearTimeout(timerIn);var $tooltip=$('.lib-tooltip');$tooltip.removeClass('show');timerOut=window.setTimeout(function(){$tooltip.attr('style','');},200);$('[data-tooltip]').removeClass('active');});},fixed=function(){$('.fixed-position').each(function(){var offsetTop=headerFixNavHeight;var $this=$(this),$container=$this.parent(),start=$container.offset().top-offsetTop;if(pos>=start){$this.addClass('stuck').css({'width':$container.width(),'top':offsetTop});}
else{$this.removeClass('stuck').attr('style','');}});},scrollStack=[],resizeStack=[],controllers={header:{cond:function() {return $('.header-fix-nav').length>0;},init:function() {scrollStack.push(controllers.header.update);resizeStack.push(controllers.header.update);scrollStack.push(controllers.header.scroll);},update:function(){headerFixNavHeight=$('.header-fix-nav').outerHeight();var lastPadding=parseFloat($('body').css('padding-top'));$('body').css('padding-top',headerFixNavHeight);},scroll:function(){if(pos>0){$('.nav-user-button').addClass('close');}
else{$('.nav-user-button').removeClass('close');}}},searchNav:{cond:function(){return $('.search-nav').length>0;},init:function() {scrollStack.push(controllers.searchNav.scrollEvent);},open:function(){$('.search-nav').addClass('anim open');controllers.titleNav.hide();},close:function(){$('.search-nav').addClass('anim').removeClass('open');controllers.titleNav.show();},scrollEvent:function(){if(pos>0){controllers.searchNav.close();}}},titleNav:{cond:function(){return $('.title-nav').length>0;},init:function() {resizeStack.push(controllers.titleNav.resize);$('.title-nav').removeClass('hide');},show:function(){$('.title-nav').addClass('anim ').removeClass('hide');},hide:function(){$('.title-nav').addClass('anim hide');},resize:function(){$('.search-nav').addClass('hide');var leftNavWidth=$('.left-nav').width()+$('.left-nav').offset().left;$('.title-nav-container').css({padding:'0 '+leftNavWidth+'px'});var rightNavWidth=$('.right-nav').offset().left,titleNavWrapRight=$('.title-nav-wrap').offset().left+$('.title-nav-wrap').outerWidth();$('.title-nav-wrap').not('.nav-election-2017').css({'padding-right':(titleNavWrapRight-rightNavWidth)+20+'px'});if($('.title-nav-wrap').find('.title-nav-tag').length>0){$('.title-nav-wrap').not('.nav-election-2017').css({'padding-left':(titleNavWrapRight-rightNavWidth)+20+'px'});}
$('.search-nav').removeClass('hide');}},menu:{cond:function(){return $('.menu').length>0;},init:function() {},open:function(){$('.menu').css({top:$('.admin-nav').outerHeight()+$('.header-fix-nav .main-nav').outerHeight()});$('.menu').removeClass('hide');$('body').addClass('no-scroll');},close:function(){$('.menu').removeClass('show display');controllers.searchNav.close();$('.menu').addClass('hide');$('body').removeClass('no-scroll');}},menuNav:{cond:function(){return $('.menu-nav').length>0;},init:function() {scrollStack.push(controllers.menuNav.scrollEvent);},open:function(){$('.menu-nav').addClass('anim open');},close:function(){$('.menu-nav').addClass('anim').removeClass('open');},on:function(){$('.menu-nav').addClass('active');},off:function(){$('.menu-nav').removeClass('active');},scrollEvent:function(){if(pos>0){controllers.menuNav.close();}
else{controllers.menuNav.open();}}},fixed:{cond:function(){return $('.fixed-position').length>0;},init:function(){scrollStack.push(fixed);}},commentAside:{cond:function(){return $('.libe-aside-comment').length>0;},init:function() {$('.libe-comment-content').bind('scroll',controllers.commentAside.update);$('.libe-comment-content').scroll();$('.libe-comment-header .libe-form-textarea').focus(function(){$(this).parents('.libe-comment-header').removeClass('compress').find('.hide-in-compress').stop(1).slideDown(100);});$('main').on('click','.nb-commentaire',function(event){event.preventDefault();initLivefyreComment(this);});$('.libe-comment-close').click(function(event){event.preventDefault();$('.libe-comment-container').remove();$('.libe-aside-comment').removeClass('open');});$('.libe-comment-header .libe-button.link').click(function(event){event.preventDefault();$('.libe-comment-header-panel').toggleClass('hide');});$('.libe-comment-like-btn').click(function(event){event.preventDefault();$(this).toggleClass('liked');});},update:function(){var pos=$('.libe-comment-content').scrollTop();if(pos>0){if($('.libe-comment-header .libe-form-textarea:focus').length<=0){$('.libe-comment-header').addClass('compress');$('.hide-in-compress').stop(1).slideUp(100);}}
else{$('.libe-comment-header').removeClass('compress');$('.hide-in-compress').stop(1).slideDown(100);}
if(!Modernizr.flexbox){var $content=$('.libe-comment-content'),height=$('.libe-aside-comment').height()-$content.position().top;$content.css({height:height});}},open:function(){$('.libe-aside-comment').addClass('open');},close:function(){$('.libe-aside-comment').removeClass('open');}},photoHomeHeader:{cond:function(){return $('.photo-header').length>0;},init:function(){$('.photo-header-title').mouseover(function(){var t=$(this).data('bg');$('.photo-header-title').removeClass('active');$(this).addClass('active');$('.photo-header-bg').removeClass('active');$('.photo-header-bg.'+t).addClass('active');});}},photoHomeGrid:{cond:function(){return $('.photo-grid-image').length>0;},init:function(){resizeStack.push(controllers.photoHomeGrid.resize);},resize:function(){$('.photo-grid-container').attr('style','');$('.photo-grid-image').each(function(){var $image=$(this);imagesLoaded($image,function(){var w=$image.width(),h=$image.height();$image.parent().css({width:w,height:h});});});}},photoArticleBg:{cond:function(){return $('.photo-article-body').length>0;},init:function(){scrollStack.push(controllers.photoArticleBg.update);},update:function(){var $ab=$('.photo-article-body'),start=$ab.offset().top-160,op=Math.min(Math.max((pos-start)/100,0),0.84);$('body').css({'background-color':'rgba(0,0,0,'+op+')'});}},readerArticleSlider:{cond:function(){return $('.reader-article-slider').length>0;},init:function(){}},viewerOverlaySize:{cond:function(){return $('.viewer-item-image').length>0;},init:function(){$(window).stellar({responsive:true,horizontalScrolling:false,hideDistantElements:false,positionProperty:'transform',parallaxElements:true});resizeStack.push(controllers.viewerOverlaySize.resize);},resize:function(){$('.viewer-photo-container').attr('style','');$('.viewer-item-image').each(function(){var w=$(this).width(),h=$(this).height();var $p=$(this).parent().parent(),pW=$p.width(),pH=$p.height();$(this).parent().css({width:(w/pW)*100+'%'});});}},flowBarSlider:{cond:function(){return $('.flowbar-slider').length>0;},init:function(){scrollStack.push(controllers.flowBarSlider.scroll);},scroll:function(){if(pos>200&&lastPos>pos){$('.top-flowbar').stop(1).slideDown(200,function(){$(this).jSlider({loop:false,offsetLeft:50});});$('.main-content.special-hiver').css('padding-top','140px');}}},ebookInfo:{cond:function(){return $('.ebook-js').length>0;},init:function(){$('.ebook-js').click(function(event){event.preventDefault();var $info=$(this).parent().find('.ebook-info'),infoH=$info.height();if($(this).hasClass('open')){$(this).removeClass('open').parent().stop(1).animate({'margin-bottom':0},300);$info.stop(1).slideUp(300);}
else{$('.ebook-js').removeClass('open').parent().stop(1).animate({'margin-bottom':0},300);$('.ebook-info').stop(1).slideUp(300);$(this).addClass('open').parent().stop(1).animate({'margin-bottom':infoH},300);$info.stop(1).slideDown(300);}});$('.ebook-js-close').click(function(event){event.preventDefault();var $this=$(this).parents('.ebook-info').siblings('.ebook-js'),$info=$this.parent().find('.ebook-info'),infoH=$info.height();$this.removeClass('open').parent().stop(1).animate({'margin-bottom':0},300);$info.stop(1).slideUp(300);});}},pageTop100:{cond:function(){return $('.page-top100').length>0;},init:function(){$('.page-top100 li:not(.top-100-pub-container)').each(function(i){$(this).addClass('top100-color-'+(parseFloat(i)+1));});}},top100:{cond:function(){return $('.top100').length>0;},init:function(){$('.top100 li:not(.extra-item)').each(function(i){$(this).addClass('top100-color-'+(parseFloat(i)+1));if($(this).next(':visible').hasClass('extra-item')){$(this).addClass('m-bottom');}});}},credits:{cond:function(){return $('.page-cgu').length>0;},init:function(){scrollStack.push(controllers.credits.scroll);controllers.credits.scroll();},scroll:function(){$('.page-cgu h4').each(function(){var start=$(this).offset().top,end=start+$(this).outerHeight()+$(this).next('.cgu-section').outerHeight();if(pos>=start&&pos<end){var title=$(this).text();if(title!=lastTitle){lastTitle=title;}}});}},erreurAnimTest:{cond:function(){return $('.page-erreur-500').length>0;},init:function(){var canvas=document.getElementById("canvas");var ctx=canvas.getContext('2d');var c={width:canvas.width,height:canvas.height,};var canvasWidth=canvas.width;var canvasHeight=canvas.height;window.addEventListener('resize',resizeCanvas,false);function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;canvasWidth=canvas.width;canvasHeight=canvas.height;c={width:canvas.width,height:canvas.height,};}
resizeCanvas();var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return setTimeout(callback,1);};function drawDiamond(x,y,width,height){ctx.beginPath();ctx.moveTo(x,y+(height/2));ctx.lineTo(x+(width/2),y);ctx.lineTo(x,y-(height/2));ctx.lineTo(x-(width/2),y);ctx.closePath();ctx.fill();};function clear(){ctx.clearRect(0,0,canvasWidth,canvasHeight);}
var top100color=["#E91845","#EF0039","#FF2B1F","#FF412E","#FF573E","#FF6C4D","#FF825D","#FF986C","#FFAD7C","#FFC38B","#FFC67E","#FFC971","#FFCF57","#FFD14B","#FFD43E","#FFD43E","#FFD731","#FFDA24","#FFDD17","#E3D81A","#C6D31D","#AACF1F","#8ECA22","#71C525","#00B230","#00B344","#00B459","#00B46D","#00B581","#00B696","#00B7AA","#00B7AA","#00B7BE","#00B8D3","#00B9E7","#0890DD","#0890DD","#0C7BD8","#1067D3","#1452CD","#183EC8","#1C29C3","#2015BE","#2400B9","#2400B9","#3500BE","#4600C3","#5700C8","#6800CD","#7900D3","#8A00D8","#9B00DD","#AC00E2","#BD00E7","#BD00E7","#C400E1","#CC00DB","#D300D5","#DA00CF","#E200CA","#E900C4","#F000BE","#F800B8","#FF00B2","#FF00B2","#FF00BD","#FF00BD","#FF008D","#FF008D","#FF008D","#FF0081","#FF0075","#FF0069","#FF005C","#FF0050","#FF0044","#FF0044","#EA0049","#D6004E","#C10054","#AC0059","#98005E","#830063","#6E0069","#5A006E","#450073","#450073","#3D0A6F","#36146A","#2E1F66","#262962","#1F335D","#274666","#2E586F","#366B78","#3E7D81","#4DA294","#54B59D","#5CC7A6","#64DAAF","#64DAAF","#71FABD"];var cc=0;var d={width:272,height:100};var time=0,startTime1=0,scale1=0;var end=Math.max(canvasWidth/d.width,canvasHeight/d.height)*2;function draw(){time+=0.015;scale1=Math.max(0,(scale1+time)-startTime1);ctx.fillStyle=top100color[cc];ctx.translate(canvasWidth/2,canvasHeight/2);ctx.scale(scale1,scale1);ctx.translate(-canvasWidth/2,-canvasHeight/2);drawDiamond(canvasWidth/2,canvasHeight/2,d.width,d.height);ctx.setTransform(1,0,0,1,0,0);if(scale1>end){startTime1=time;scale1=0;if(cc>top100color.length){cc=0;}
else{cc=cc+1;}}
requestAnimationFrame(draw);}
draw();}}},initConrtollers=function(selectedControllers){var initControllers=selectedControllers?selectedControllers:controllers;for(var key in controllers){if(controllers[key].cond()){controllers[key].init();}}},bindEvents=function(){$('.search-nav').click(function(event){var isOpen=$(this).hasClass('open');if(!isOpen){event.preventDefault();controllers.searchNav.open();$(this).find('.search-nav-input').focus();controllers.titleNav.hide();}});$('.menu-nav').click(function(e){e.preventDefault();$(this).toggleClass('active');controllers.menu.open();var menu=$(".menu");if(!menu.hasClass('hide')){var timer;$('.menu').addClass('display');controllers.searchNav.open();$('.progress-bar').addClass('hide');$('.alert-nav.opened').addClass('hide');window.clearTimeout(timer);timer=window.setTimeout(function(){$('.menu').addClass('show');},50);}
if(menu.hasClass('show')){$('.menu').removeClass('show');$('.menu').removeClass('display');controllers.searchNav.close();$('.progress-bar').removeClass('hide');$('.alert-nav.opened').removeClass('hide');var timer;window.clearTimeout(timer);timer=window.setTimeout(function(){$('.menu').addClass('hide');controllers.menu.close();},300);}});$('.menu-univer-item').mouseover(function(){$('.menu-univer-item').removeClass('active');$(this).addClass('active');var itemClass=$(this).data('item-target');$('.menu-pictures').removeClass('show');$('.menu-pictures.'+itemClass).addClass('show');});$('.libe-comment-relpy-btn').click(function(){var $form=$(this).parents('.libe-comment-wrapper').find('.lib-comment-repy-form');if($form.hasClass('open')){$form.stop(1).slideUp().removeClass('open');$(this).removeClass('active');}
else{$form.stop(1).slideDown().addClass('open');$(this).addClass('active');}});$('.alert-nav .close-icon').click(function(event){event.preventDefault();$(this).parents('.alert-nav').removeClass('opened');var h=$('.header-fix-nav').height()-$(this).parents('.alert-nav').outerHeight();$('body').css('padding-top',h);});$('.photo-article-header-couv').click(function(event){event.preventDefault();var to=$('.photo-article-header').offset().top-headerFixNavHeight-60;$("html, body").animate({scrollTop:to});});$('.photo-header-bottom-bar').click(function(event){event.preventDefault();var to=$('.photo-content').offset().top-headerFixNavHeight;$("html, body").animate({scrollTop:to});});$('.facebook-share').on('click',function(event){event.preventDefault();$('.social-popup').removeClass('show');$('.facebook-popup').toggleClass('show');$('.modal-shadow').toggleClass('show');if($('.modal-shadow').hasClass('show')){$('.modal-shadow').on('click',function(event){event.preventDefault();$(this).removeClass('show');$('.social-popup').removeClass('show');});}});$('.twitter-share').on('click',function(event){event.preventDefault();$('.social-popup').removeClass('show');$('.twitter-popup').toggleClass('show');$('.modal-shadow').toggleClass('show');if($('.modal-shadow').hasClass('show')){$('.modal-shadow').on('click',function(event){event.preventDefault();$(this).removeClass('show');$('.social-popup').removeClass('show');});}});var circledFigure=$('.circled-figure img');for(var i=0;i<circledFigure.length;i++){if(circledFigure[i].width>circledFigure[i].height){circledFigure[i].className='large';}}
$('.icon-close').on('click',function(){$('.footer-cnil').addClass('hide');});$('.js-stop-scroll-propagation').on('DOMMouseScroll mousewheel',function(ev){if(windowWidth>750){var $this=$(this),scrollTop=this.scrollTop,scrollHeight=this.scrollHeight,height=$this.height(),delta=(ev.type=='DOMMouseScroll'?ev.originalEvent.detail*-40:ev.originalEvent.wheelDelta),up=delta>0;var prevent=function(){ev.stopPropagation();ev.preventDefault();ev.returnValue=false;return false;}
if(!up&&-delta>scrollHeight-height-scrollTop){$this.scrollTop(scrollHeight);return prevent();}else if(up&&delta>scrollTop){$this.scrollTop(0);return prevent();}}});$('.footer-menu-link').click(function(event){$('.menu').removeClass('show display');});},init=function(){initConrtollers();tooltip();bindEvents();updateSizes();fixed();};$window.resize(function(){updateSizes();$window.scroll();});$window.scroll(function(){pos=$window.scrollTop();updateScroll();lastPos=pos;});$window.scroll();$(function(){init();});return{};})(this,this.document);var Partners=(function(){var current=null;var partners={ligatus:{setup:function($article){$article.append($('<iframe/>',{'id':'ligatus_73421','name':'ligatus_73421','src':'http://d.ligatus.com/?ids=73421','width':'100%','height':'520px','frameborder':'0','scrolling':'no','allowtransparency':'true'}));},refresh:function(){}},outbrain:{setup:function($article){$('article').append($('<div/>',{'class':'width-wrap clearfix ob-container'}).append($('<div/>',{'class':'wide-column'}).append($('<div/>',{'class':'clearfix'}).append($('<div/>',{'class':'clearfix subs-content','style':'padding-left:40px;'}).append($('<div/>',{'class':'OUTBRAIN','data-widget-id':'AR_14','data-src':'http://www.liberation.fr'+window.location.pathname,'data-ob-template':'liberation'}),$('<div/>',{'class':'OUTBRAIN','data-widget-id':'AR_15','data-src':'http://www.liberation.fr'+window.location.pathname,'data-ob-template':'liberation'}))))));},refresh:function(){if(typeof OBR!=='undefined'){OBR.extern.researchWidget();}}},digiteka:{setup:function($article){$article.append($('<div/>',{class:'white-box wide-flow-bloc flow-bloc flow-bloc-partneship flow-bloc-case',}).append($('<div/>',{class:'bloc-title title-nb clearfix',text:'Recommande par Digiteka',})).append($('<div/>',{id:'DIGITEKA',})));_um_smart_deploy();},refresh:function(){}},};function setup($article){var items=['outbrain','ligatus','digiteka'];$(items).each(function(){partners[this].setup($article);partners[this].refresh();});}
return{setup:setup};}());$(function(){var $slides=$('.js-slide');var slidesCount=$slides.length;if(!slidesCount){return;}
function animatedScrollTo($element){if($element.length){$('html, body').stop().animate({scrollTop:$element.offset().top-
($element.hasClass('article-full-image')?65:85)},'500','swing');}}
function getCurrentSlideIndex(){var slides=[];$slides.each(function(index){var $slide=$(this);var visible=($(window).height()-
Math.abs($(window).scrollTop()-$slide.offset().top));slides.push(visible);});var max=Math.max.apply(Math,slides);if(max<0){return-1;}
return slides.indexOf(max);}
function nextSlide(){var currentIndex=getCurrentSlideIndex();var $next=$slides.eq((currentIndex+1)%slidesCount);animatedScrollTo($next);}
function previousSlide(){var currentIndex=getCurrentSlideIndex();var $previous=$slides.eq(currentIndex-1);animatedScrollTo($previous);}
$(document).on('keydown',function(e){switch(e.which){case 38:case 37:case 33:previousSlide();break;case 40:case 39:case 34:case 13:nextSlide();break;default:return true;}
e.preventDefault();return false;});});$(function(){var $container=$('.sticky-element-container').first();if($container.length===0){return;}
var offsetTop=$('.header-fix-nav').height();var stickyElements=[];function refresh(){offsetTop=$('.header-fix-nav').height();var scrollTop=$(document).scrollTop();var containerTop=$container.offset().top;var limitBottom=containerTop+$container.height();var $stickyElement=$container.find('.sticky-element:visible');$stickyElement.removeAttr('style');for(var idx=0;idx<stickyElements.length;idx++){stickyElements[0].removeAttr('style');}
stickyElements=[];if(scrollTop+offsetTop+$stickyElement.outerHeight()>limitBottom){$stickyElement.css({'position':'absolute','bottom':'1px',});}else if(scrollTop+offsetTop>containerTop){$stickyElement.css({'position':'fixed','top':offsetTop+'px','width':$stickyElement.width()});stickyElements.push($stickyElement);}}
function setContainerHeight($container){if($container.data('no-resize')!==undefined){return;}
var $containerParent=$container.parents('.aside-column');var containerHeight=$containerParent.height()-
$containerParent.find('.pined-bottom').outerHeight()-
$containerParent.find('.bloc-share').first().outerHeight();$container.css('height',containerHeight+'px');}
function getStickyContainer($element){if($element===undefined){return undefined;}
var stickyContainer=$element.find('.sticky-element-container');if(stickyContainer.length){return stickyContainer;}
return undefined;}
$(document).on('articleLoaded infinityScrollNewPage',function(event,page){var $stickyContainer=getStickyContainer(page.$element);setContainerHeight($stickyContainer||$container);refresh();});$(document).on('infinityScrollEnterPage',function(event,page){var $stickyContainer=getStickyContainer(page.$element);$container=$stickyContainer||$('.sticky-element-container').first();});$(window).on('scroll',refresh);setContainerHeight($container);refresh();});$(function(){var $container=$('.asq-container-wrapper').first();if($container.length===0){return;}
var $stickyElement=$container.find('.asq-container:visible');var limitBottom=$(document).height()+$container.height();var offsetTop=$('.header-fix-nav').height();function refresh(){var containerTop=$container.offset().top;var scrollTop=$(document).scrollTop();if(scrollTop+offsetTop>containerTop){$stickyElement.css({'position':'fixed','top':offsetTop+'px','width':$stickyElement.width()});}else{$stickyElement.removeAttr('style');}}
$(window).on('scroll',refresh);});var Article=(function(){function isAdsReady($article){var articleContentHeight=$article.find('.container-column').height();if(articleContentHeight>1220){return true;}
return false;}
function setupAside(page){var $article=page.$element;$article.find('.sticky-element-container').show();}
function unveilListItems(event,page){var $list_item=page.$element;$list_item.find('img').unveil();}
function setupArticle(page){var $article=page.$element;if(typeof twttr!="undefined"&&twttr.widgets){twttr.widgets.load($article[0]);}
$article.find('img').unveil();$article.adjustMedias();new Viewer($article.find('.article-image, .article-body'));$('.next-article-preview-link, .bloc-next-article a',$article).on('click',function(e){e.preventDefault();$url=$(this).attr('href');if($url){$next_article=$('article[data-url="'+$url+'"]');if($next_article.length>0){$('html,body').animate({scrollTop:$next_article.offset().top-
($next_article.outerHeight(true)-$next_article.outerHeight()),},1000);}else{document.location=$url;}}});if(isPubActive){Partners.setup($article.next('.extra-content'));}
var $images=$article.find('img').not('[data-lazy-load="true"]');$images.imagesLoaded(function(){if(isAdsReady($article)){setupAside(page);}else{var bannerFormatIndex=sasOptions.formats.indexOf('28999');if(bannerFormatIndex!==-1){sasOptions.formats.splice(bannerFormatIndex,1);}}
if(page.index===0&&typeof sasOptions!=='undefined'){var $sasAside=$('<div class="sticky-element bloc-ads ad-container">'+'<div id="sas_28999"></div></div>');$('.js-sideblocks-container').prepend($sasAside);Ad.loadSas(sasOptions);}
$(document).trigger('articleLoaded',[page]);});}
function newArticle(event,page){setupArticle(page);}
function enterArticle(event,page){if($('.js-nav-title').length===0){return;}
$('.js-nav-title').text(page.data.title);$('.js-nav-share .js-share-facebook').attr('href',page.data.facebook);$('.js-nav-share .js-share-twitter').attr('href',page.data.twitter);if(isPubActive){refreshSasAside(page);}}
function refreshSasAside(page){var $article=(page.index!==0?page.$element:firstPage.$element);if(!isAdsReady($article)||$article.find('#sas_28999').length){return;}
var $sas=$('#sas_28999').parent();var $sasNewLocation=$article.find('.js-sideblocks-container');if(!$sas.length||$sasNewLocation.find('#sas_28999').length){return}
$sas.prependTo($sasNewLocation);Ad.refreshSas(28999);}
var firstPage;function init(){firstPage={index:0,$element:$('article').parent()};setupArticle(firstPage);$(document).on('infinityScrollNewPage',unveilListItems);}
return{init:init};})();var Section=(function(){var previousPage=0;function setupSection($section){$section.find('img').unveil();}
function newPage(event,page){var $section=page.$element;setupSection($section);}
function enterPage(event,page){$sideblocksContainer=$('.js-sideblocks-container',document);if(isPubActive){refreshSas(page);}else if($sideblocksContainer.length>0){sideblock=Sideblocks.getRandomBlock();if(sideblock){$sideblocksContainer.html(sideblock);}}
previousPage=page;}
function refreshSas(page){var $sas=$('#sas_28999');if(!$sas.length|| (page.index===0&&previousPage===0)){return;}
Ad.refreshSas(28999);}
function init(){if(typeof sasOptions!="undefined"){Ad.init(sasOptions);}
$(document).on('infinityScrollNewPage',newPage);$(document).on('infinityScrollEnterPage',enterPage);}
return{init:init};})();var LiveItemPartners=(function(){var partners={outbrain:{setup:function(){var $liveItem=$('.live-items li').first();var $ob=$('<div/>',{'style':'padding:20px;'});$ob.append($('<div/>',{'class':'OUTBRAIN','data-widget-id':'AR_18','data-src':'http://www.liberation.fr'+window.location.pathname,'data-ob-template':'liberation'}),$('<div/>',{'class':'OUTBRAIN','data-widget-id':'AR_19','data-src':'http://www.liberation.fr'+window.location.pathname,'data-ob-template':'liberation'}))
$ob.insertAfter($liveItem);},refresh:function(){if(OBR!==undefined){OBR.extern.researchWidget();};},},};function setup(){var items=['outbrain',];if(isPubActive){$(items).each(function(){partners[this].setup();partners[this].refresh();});}}
return{setup:setup};})();